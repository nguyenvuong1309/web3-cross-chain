# Giáº£i ThÃ­ch Pháº§n Giá»›i Thiá»‡u

## Giá»›i Thiá»‡u

**Blockchain** lÃ  má»™t cÃ´ng nghá»‡ cÆ¡ sá»Ÿ dá»¯ liá»‡u phÃ¢n tÃ¡n, ná»•i báº­t vá»›i tÃ­nh phi táº­p trung, tÃ­nh toÃ n váº¹n dá»¯ liá»‡u vÃ  kháº£ nÄƒng truy xuáº¥t thÃ´ng tin. Nhá»¯ng Ä‘áº·c Ä‘iá»ƒm nÃ y cho phÃ©p blockchain Ä‘Æ°á»£c Ã¡p dá»¥ng trong nhiá»u lÄ©nh vá»±c khÃ¡c nhau nhÆ° **Internet of Things (IoT)**, **y táº¿**, vÃ  **chuá»—i cung á»©ng**. Trong nhá»¯ng nÄƒm gáº§n Ä‘Ã¢y, **tiá»n Ä‘iá»‡n tá»­ dá»±a trÃªn blockchain** Ä‘Ã£ thu hÃºt sá»± chÃº Ã½ lá»›n tá»« giá»›i há»c thuáº­t, ngÃ nh cÃ´ng nghiá»‡p vÃ  chÃ­nh phá»§ nhá» tiá»m nÄƒng phÃ¡t triá»ƒn cao.

**Tiá»n Ä‘iá»‡n tá»­** lÃ  má»™t pháº§n thiáº¿t yáº¿u cá»§a há»‡ thá»‘ng blockchain. Báº¯t nguá»“n tá»« **Bitcoin**, nhiá»u loáº¡i tiá»n Ä‘iá»‡n tá»­ dá»±a trÃªn blockchain khÃ¡c nhÆ° **Ethereum** vÃ  **ZCash** Ä‘Ã£ Ä‘Æ°á»£c phÃ¡t triá»ƒn. Sá»± phÃ¡t triá»ƒn nÃ y dáº«n Ä‘áº¿n nhu cáº§u ngÃ y cÃ ng tÄƒng vá» **giao dá»‹ch giá»¯a cÃ¡c chuá»—i (cross-chain transactions)**, tá»©c lÃ  viá»‡c trao Ä‘á»•i má»™t loáº¡i tiá»n Ä‘iá»‡n tá»­ nÃ y sang loáº¡i khÃ¡c. Tuy nhiÃªn, trong khi viá»‡c trao Ä‘á»•i tiá»n tá»‡ trong cÃ¹ng má»™t blockchain lÃ  dá»… dÃ ng, viá»‡c thá»±c hiá»‡n Ä‘iá»u nÃ y giá»¯a cÃ¡c blockchain khÃ¡c biá»‡t láº¡i gáº·p nhiá»u khÃ³ khÄƒn. Äá»ƒ kháº¯c phá»¥c thÃ¡ch thá»©c nÃ y, cÃ´ng nghá»‡ giao dá»‹ch giá»¯a cÃ¡c chuá»—i Ä‘Ã£ Ä‘Æ°á»£c phÃ¡t triá»ƒn, táº¡o ra cÃ¡c **cáº§u ná»‘i giá»¯a cÃ¡c blockchain khÃ¡c nhau** Ä‘á»ƒ thuáº­n tiá»‡n cho viá»‡c trao Ä‘á»•i hoáº·c chuyá»ƒn giao tiá»n Ä‘iá»‡n tá»­. CÃ´ng nghá»‡ giao dá»‹ch giá»¯a cÃ¡c chuá»—i sá»­ dá»¥ng cÃ¡c **giao thá»©c tiÃªu chuáº©n giá»¯a cÃ¡c chuá»—i** nháº±m Ä‘áº£m báº£o tÃ­nh nguyÃªn tá»­ (atomicity), nháº¥t quÃ¡n (consistency) vÃ  kháº£ nÄƒng tÆ°Æ¡ng tÃ¡c (interoperability).

**Giao dá»‹ch tiá»n Ä‘iá»‡n tá»­ giá»¯a cÃ¡c chuá»—i** lÃ  quÃ¡ trÃ¬nh ngÆ°á»i dÃ¹ng trao Ä‘á»•i má»™t loáº¡i tiá»n tá»‡ nÃ y sang loáº¡i khÃ¡c, thÆ°á»ng liÃªn quan Ä‘áº¿n nhiá»u giao dá»‹ch. VÃ­ dá»¥, giáº£ sá»­ Alice muá»‘n trao Ä‘á»•i **Bitcoin** láº¥y **Ether**. CÃ´ áº¥y sáº½ cáº§n thá»±c hiá»‡n Ã­t nháº¥t hai giao dá»‹ch: má»™t giao dá»‹ch trÃªn máº¡ng Bitcoin Ä‘á»ƒ chuyá»ƒn Bitcoin cho ngÆ°á»i dÃ¹ng khÃ¡c, vÃ  má»™t giao dá»‹ch trÃªn máº¡ng Ethereum Ä‘á»ƒ nháº­n Ether tá»« ngÆ°á»i dÃ¹ng khÃ¡c.

Háº§u háº¿t cÃ¡c giao dá»‹ch giá»¯a cÃ¡c chuá»—i hiá»‡n nay dá»±a vÃ o **sÃ n giao dá»‹ch táº­p trung**. Tuy nhiÃªn, Ä‘iá»u nÃ y cÅ©ng mang láº¡i má»™t sá»‘ **rá»§i ro báº£o máº­t**, vÃ¬ cÃ¡c sÃ n giao dá»‹ch táº­p trung Ä‘Ã²i há»i sá»± tin tÆ°á»Ÿng tá»« ngÆ°á»i dÃ¹ng, tá»« Ä‘Ã³ lÃ m giáº£m tÃ­nh phi táº­p trung cá»§a blockchain. Äá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y, má»™t sá»‘ **sÆ¡ Ä‘á»“ giao dá»‹ch giá»¯a cÃ¡c chuá»—i phi táº­p trung** Ä‘Ã£ Ä‘Æ°á»£c Ä‘á» xuáº¥t. CÃ¡c cÃ´ng nghá»‡ giao dá»‹ch giá»¯a cÃ¡c chuá»—i hiá»‡n cÃ³ cáº£i thiá»‡n hiá»‡u suáº¥t cá»§a cÃ¡c giao dá»‹ch giá»¯a cÃ¡c chuá»—i, nhÆ°ng hiáº¿m khi xem xÃ©t váº¥n Ä‘á» **báº£o máº­t thÃ´ng tin cÃ¡ nhÃ¢n**. 

VÃ­ dá»¥:
- CÃ¡c giáº£i phÃ¡p dá»±a trÃªn **notary** cho phÃ©p cÃ¡c **notary Ä‘Ã¡ng tin cáº­y** truy cáº­p vÃ o sá»‘ lÆ°á»£ng vÃ  Ä‘á»‹a chá»‰ cá»§a cÃ¡c bÃªn tham gia giao dá»‹ch giá»¯a cÃ¡c chuá»—i.
- CÃ¡c **sÆ¡ Ä‘á»“ relay chain** yÃªu cáº§u láº¥y thÃ´ng tin vá» cÃ¡c giao dá»‹ch giá»¯a cÃ¡c chuá»—i trÃªn cÃ¡c blockchain khÃ¡c nhau, Ä‘iá»u nÃ y cÃ³ thá»ƒ lÃ m giáº£m tÃ­nh riÃªng tÆ° cá»§a giao dá»‹ch náº¿u khÃ´ng cÃ³ cÃ¡c biá»‡n phÃ¡p báº£o máº­t thÃ´ng tin phÃ¹ há»£p.
- **Há»£p Ä‘á»“ng khÃ³a há»£p thá»i (HTLCs)** yÃªu cáº§u ná»™p cÃ¹ng má»™t giÃ¡ trá»‹ hÃ m bÄƒm, Ä‘iá»u nÃ y cho phÃ©p báº¥t ká»³ bÃªn thá»© ba nÃ o cÃ³ thá»ƒ quan sÃ¡t thÃ´ng tin trÃªn cáº£ hai blockchain Ä‘á»ƒ suy ra thÃ´ng tin liÃªn quan Ä‘áº¿n giao dá»‹ch giá»¯a cÃ¡c chuá»—i tá»« cÃ¹ng má»™t giÃ¡ trá»‹ hÃ m bÄƒm.

Äá»ƒ **Ä‘áº£m báº£o tÃ­nh báº£o máº­t cá»§a cÃ¡c giao dá»‹ch giá»¯a cÃ¡c chuá»—i**, cáº§n ngÄƒn cháº·n báº¥t ká»³ bÃªn thá»© ba nÃ o truy cáº­p vÃ o thÃ´ng tin giao dá»‹ch. Äiá»u nÃ y bao gá»“m sá»‘ lÆ°á»£ng giao dá»‹ch vÃ  Ä‘á»‹a chá»‰ cá»§a cÃ¡c bÃªn tham gia giao dá»‹ch. Nhiá»u blockchain báº£o vá»‡ sá»± áº©n danh Ä‘Ã£ Ä‘Æ°á»£c Ä‘á» xuáº¥t, nhÆ° **Monero** vÃ  **ZCash**. Nhá»¯ng giáº£i phÃ¡p nÃ y cho phÃ©p cÃ¡c bÃªn tham gia áº©n sá»‘ lÆ°á»£ng giao dá»‹ch vÃ  lÃ m má» cÃ¡c liÃªn káº¿t giá»¯a cÃ¡c giao dá»‹ch vÃ  ngÆ°á»i gá»­i cÅ©ng nhÆ° ngÆ°á»i nháº­n tÆ°Æ¡ng á»©ng. Tuy nhiÃªn, váº«n cÃ²n nhá»¯ng thÃ¡ch thá»©c bá»• sung Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c **giao dá»‹ch giá»¯a cÃ¡c chuá»—i báº£o máº­t thÃ´ng tin cÃ¡ nhÃ¢n**. Äá»ƒ vÆ°á»£t qua nhá»¯ng thÃ¡ch thá»©c nÃ y, cáº§n xem xÃ©t ká»¹ lÆ°á»¡ng toÃ n bá»™ quÃ¡ trÃ¬nh giao dá»‹ch giá»¯a cÃ¡c chuá»—i. Äáº§u tiÃªn, cáº§n báº£o vá»‡ **thÃ´ng tin giao dá»‹ch trong quÃ¡ trÃ¬nh truyá»n giá»¯a cÃ¡c chuá»—i** vÃ  Ä‘áº¡t Ä‘Æ°á»£c **tÃ­nh khÃ´ng liÃªn káº¿t** cá»§a Ä‘á»‹a chá»‰ ngÆ°á»i dÃ¹ng trÃªn cÃ¡c chuá»—i khÃ¡c nhau.

# Káº¿t Luáº­n

Pháº§n giá»›i thiá»‡u nÃ y nÃªu báº­t táº§m quan trá»ng cá»§a cÃ´ng nghá»‡ blockchain vÃ  cÃ¡c tiá»n Ä‘iá»‡n tá»­ trong viá»‡c thÃºc Ä‘áº©y cÃ¡c giao dá»‹ch giá»¯a cÃ¡c chuá»—i. NÃ³ cÅ©ng Ä‘á» cáº­p Ä‘áº¿n cÃ¡c thÃ¡ch thá»©c vá» báº£o máº­t vÃ  riÃªng tÆ° mÃ  cÃ¡c giao dá»‹ch giá»¯a cÃ¡c chuá»—i hiá»‡n táº¡i Ä‘á»‘i máº·t, Ä‘á»“ng thá»i chá»‰ ra nhu cáº§u cáº¥p bÃ¡ch trong viá»‡c phÃ¡t triá»ƒn cÃ¡c giáº£i phÃ¡p báº£o máº­t thÃ´ng tin cÃ¡ nhÃ¢n hiá»‡u quáº£ hÆ¡n trong lÄ©nh vá»±c nÃ y.

# References

1. Internet of Things (IoT)
2. Healthcare applications in blockchain
3. Supply chain management using blockchain
4. Bitcoin
5. Ethereum
6. ZCash
7. Cross-chain transaction bridges
8. Centralized exchanges
9. Decentralized cross-chain transaction schemes
10. Privacy-preserving cross-chain technologies
11. Notary-based solutions
12. Relay chain schemes
13. Hash Time-Locked Contracts (HTLCs)
14. Monero

# Bá»• Sung

Náº¿u báº¡n cÃ³ báº¥t ká»³ cÃ¢u há»i nÃ o thÃªm hoáº·c cáº§n giáº£i thÃ­ch chi tiáº¿t hÆ¡n vá» má»™t pháº§n cá»¥ thá»ƒ nÃ o Ä‘Ã³, Ä‘á»«ng ngáº§n ngáº¡i há»i!

# Giáº£i ThÃ­ch Pháº§n LiÃªn Quan Äáº¿n Giao Dá»‹ch Tiá»n Äiá»‡n Tá»­ Giá»¯a CÃ¡c Chuá»—i vÃ  CÃ´ng Nghá»‡ Báº£o Vá»‡ Quyá»n RiÃªng TÆ°

## 1. Tá»•ng Quan Vá» Giao Dá»‹ch Tiá»n Äiá»‡n Tá»­ Giá»¯a CÃ¡c Chuá»—i

### 1.1 YÃªu Cáº§u Äá»‘i Vá»›i Giao Dá»‹ch Giá»¯a CÃ¡c Chuá»—i

Äá»ƒ Ä‘áº£m báº£o tÃ­nh báº£o máº­t vÃ  hiá»‡u quáº£ trong giao dá»‹ch tiá»n Ä‘iá»‡n tá»­ giá»¯a cÃ¡c chuá»—i, cáº§n Ä‘Ã¡p á»©ng cÃ¡c yÃªu cáº§u sau:

- **KhÃ´ng phÃ¢n biá»‡t giao dá»‹ch giá»¯a cÃ¡c chuá»—i vá»›i cÃ¡c giao dá»‹ch thÃ´ng thÆ°á»ng trÃªn blockchain:** Äiá»u nÃ y Ä‘áº£m báº£o ráº±ng cÃ¡c giao dá»‹ch giá»¯a cÃ¡c chuá»—i khÃ´ng bá»‹ phÃ¡t hiá»‡n lÃ  giao dá»‹ch Ä‘áº·c biá»‡t, tÄƒng cÆ°á»ng tÃ­nh báº£o máº­t.
- **Äáº£m báº£o tÃ­nh nguyÃªn tá»­ vÃ  cÃ´ng báº±ng cá»§a giao dá»‹ch:** Má»—i bÃªn tham gia giao dá»‹ch pháº£i nháº­n Ä‘Æ°á»£c sá»‘ tiá»n nhÆ° mong Ä‘á»£i hoáº·c khÃ´ng bÃªn nÃ o nháº­n Ä‘Æ°á»£c tiá»n. TÃ­nh nguyÃªn tá»­ nghÄ©a lÃ  giao dá»‹ch pháº£i thÃ nh cÃ´ng toÃ n bá»™ hoáº·c tháº¥t báº¡i hoÃ n toÃ n.
- **Báº£o máº­t thÃ´ng tin giao dá»‹ch:** ThÃ´ng tin vá» sá»‘ lÆ°á»£ng giao dá»‹ch vÃ  Ä‘á»‹a chá»‰ cá»§a cÃ¡c bÃªn tham gia cáº§n Ä‘Æ°á»£c báº£o máº­t Ä‘á»ƒ ngÄƒn cháº·n viá»‡c truy cáº­p trÃ¡i phÃ©p tá»« bÃªn thá»© ba.

### 1.2 Äá» Xuáº¥t SÆ¡ Äá»“ Chuyá»ƒn Tiá»n Äiá»‡n Tá»­ Giá»¯a CÃ¡c Chuá»—i Báº£o Vá»‡ Quyá»n RiÃªng TÆ°

BÃ i bÃ¡o Ä‘á» xuáº¥t má»™t **sÆ¡ Ä‘á»“ chuyá»ƒn tiá»n Ä‘iá»‡n tá»­ giá»¯a cÃ¡c chuá»—i báº£o vá»‡ quyá»n riÃªng tÆ°**, vá»›i cÃ¡c Ä‘iá»ƒm ná»•i báº­t sau:

- **Há»— trá»£ háº§u háº¿t cÃ¡c loáº¡i tiá»n Ä‘iá»‡n tá»­:** SÆ¡ Ä‘á»“ nÃ y cÃ³ thá»ƒ Ã¡p dá»¥ng cho nhiá»u loáº¡i tiá»n Ä‘iá»‡n tá»­ khÃ¡c nhau, Ä‘áº£m báº£o tÃ­nh linh hoáº¡t vÃ  má»Ÿ rá»™ng.
- **Báº£o vá»‡ thÃ´ng tin giao dá»‹ch cá»§a ngÆ°á»i gá»­i:** CÃ¡c bÃªn tham gia giao dá»‹ch khÃ´ng thá»ƒ truy cáº­p Ä‘áº§y Ä‘á»§ thÃ´ng tin giao dá»‹ch cá»§a ngÆ°á»i gá»­i, bao gá»“m Ä‘á»‹a chá»‰ trÃªn cÃ¡c blockchain khÃ¡c nhau vÃ  sá»‘ lÆ°á»£ng Ä‘á»“ng tiá»n tham gia giao dá»‹ch.
- **Giao thá»©c khÃ³a vÃ  giáº£i phÃ³ng tiá»n Ä‘iá»‡n tá»­ báº£o máº­t:** Sá»­ dá»¥ng cÃ¡c trung gian Ä‘á»ƒ khÃ³a vÃ  giáº£i phÃ³ng tiá»n Ä‘iá»‡n tá»­. Giao dá»‹ch Ä‘Æ°á»£c thá»±c hiá»‡n ngoÃ i chuá»—i (off-chain) giá»¯a ngÆ°á»i gá»­i vÃ  trung gian, sau Ä‘Ã³ cam káº¿t thÃ´ng tin giao dá»‹ch Ä‘Æ°á»£c gá»­i Ä‘áº¿n há»£p Ä‘á»“ng thÃ´ng minh. NgÆ°á»i gá»­i cÃ³ thá»ƒ má»Ÿ cÃ¡c cam káº¿t nÃ y Ä‘á»ƒ Ä‘áº£m báº£o trung gian hoáº¡t Ä‘á»™ng Ä‘Ãºng.
- **Cháº¿ Ä‘á»™ giao dá»‹ch báº£o máº­t dá»±a trÃªn zk-SNARK:** Triá»ƒn khai má»™t sÆ¡ Ä‘á»“ giao dá»‹ch báº£o máº­t cho tiá»n Ä‘iá»‡n tá»­ Ä‘Æ°á»£c Ã¡nh xáº¡ (MCCT) dá»±a trÃªn cÃ´ng nghá»‡ zk-SNARK, vÃ  thiáº¿t káº¿ má»™t giao thá»©c trao Ä‘á»•i nguyÃªn tá»­ giá»¯a cÃ¡c loáº¡i tiá»n Ä‘iá»‡n tá»­ Ä‘Æ°á»£c Ã¡nh xáº¡ khÃ¡c nhau.
- **PhÃ¢n tÃ­ch tÃ­nh báº£o máº­t vÃ  Ä‘Ã¡nh giÃ¡ hiá»‡u suáº¥t:** ÄÃ¡nh giÃ¡ cÃ¡c Ä‘áº·c tÃ­nh báº£o máº­t cá»§a sÆ¡ Ä‘á»“ Ä‘Æ°á»£c Ä‘á» xuáº¥t vÃ  triá»ƒn khai há»£p Ä‘á»“ng thÃ´ng minh trÃªn máº¡ng thá»­ nghiá»‡m Ethereum Ä‘á»ƒ kiá»ƒm tra chi phÃ­ cháº¡y. Káº¿t quáº£ thá»­ nghiá»‡m cho tháº¥y sÆ¡ Ä‘á»“ nÃ y Ä‘áº¡t Ä‘Æ°á»£c giao dá»‹ch giá»¯a cÃ¡c chuá»—i báº£o máº­t vá»›i chi phÃ­ thá»±c tiá»…n.

### 1.3 Cáº¥u TrÃºc BÃ i BÃ¡o

BÃ i bÃ¡o Ä‘Æ°á»£c tá»• chá»©c nhÆ° sau:

- **Pháº§n 2:** ÄÃ¡nh giÃ¡ cÃ¡c cÃ´ng trÃ¬nh liÃªn quan hiá»‡n cÃ³.
- **Pháº§n 3:** Cung cáº¥p cÃ¡c kiáº¿n thá»©c cÆ¡ báº£n cáº§n thiáº¿t.
- **Pháº§n 4:** TrÃ¬nh bÃ y kiáº¿n trÃºc há»‡ thá»‘ng vÃ  mÃ´ hÃ¬nh.
- **Pháº§n 5 vÃ  6:** MÃ´ táº£ chi tiáº¿t vá» sÆ¡ Ä‘á»“ Ä‘Æ°á»£c Ä‘á» xuáº¥t.
- **Pháº§n 7:** PhÃ¢n tÃ­ch báº£o máº­t cá»§a sÆ¡ Ä‘á»“.
- **Pháº§n 8:** ÄÃ¡nh giÃ¡ hiá»‡u suáº¥t cá»§a sÆ¡ Ä‘á»“.
- **Pháº§n 9:** Káº¿t luáº­n bÃ i bÃ¡o.

## 2. CÃ´ng TrÃ¬nh LiÃªn Quan

### 2.1. SÆ¡ Äá»“ Giao Dá»‹ch Tiá»n Äiá»‡n Tá»­ Giá»¯a CÃ¡c Chuá»—i

CÃ¡c sÆ¡ Ä‘á»“ giao dá»‹ch tiá»n Ä‘iá»‡n tá»­ giá»¯a cÃ¡c chuá»—i hiá»‡n nay cÃ³ thá»ƒ Ä‘Æ°á»£c phÃ¢n loáº¡i thÃ nh ba loáº¡i chÃ­nh:

#### 2.1.1. SÆ¡ Äá»“ Notary

- **Äáº·c Ä‘iá»ƒm:** Sá»­ dá»¥ng bÃªn thá»© ba Ä‘Ã¡ng tin cáº­y lÃ m trung gian, cÃ³ thá»ƒ lÃ  sÃ n giao dá»‹ch táº­p trung hoáº·c máº¡ng lÆ°á»›i cÃ¡c nÃºt phÃ¢n tÃ¡n.
- **Vai trÃ² cá»§a trung gian:** Thu tháº­p dá»¯ liá»‡u giao dá»‹ch giá»¯a cÃ¡c chuá»—i vÃ  xÃ¡c minh cÃ¡c giao dá»‹ch.
- **Æ¯u Ä‘iá»ƒm:** Dá»… triá»ƒn khai vÃ  sá»­ dá»¥ng rá»™ng rÃ£i.
- **NhÆ°á»£c Ä‘iá»ƒm:** Cáº§n sá»± tin tÆ°á»Ÿng vÃ o trung gian, lÃ m suy yáº¿u tÃ­nh phi táº­p trung cá»§a blockchain.

#### 2.1.2. Sidechains (Chuá»—i BÃªn) vÃ  Relays (Tiáº¿p Anh)

- **Sidechains:**
  - **Äá»‹nh nghÄ©a:** LÃ  cÃ¡c blockchain cháº¡y song song vá»›i chuá»—i chÃ­nh, má»—i sidechain cÃ³ bá»™ giao thá»©c, cÆ¡ cháº¿ Ä‘á»“ng thuáº­n vÃ  há»£p Ä‘á»“ng thÃ´ng minh riÃªng.
  - **TÃ­nh tÆ°Æ¡ng thÃ­ch:** Cho phÃ©p chuyá»ƒn tÃ i sáº£n giá»¯a chuá»—i chÃ­nh vÃ  sidechains má»™t cÃ¡ch dá»… dÃ ng.
  
- **Relays:**
  - **Äá»‹nh nghÄ©a:** LÃ  cÃ¡c tÃ­ch há»£p vÃ  má»Ÿ rá»™ng cá»§a notary schemes vÃ  sidechains.
  - **Chá»©c nÄƒng:** XÃ¢y dá»±ng má»™t blockchain káº¿t ná»‘i vá»›i cÃ¡c chuá»—i khÃ¡c thÃ´ng qua cÃ¡c giao thá»©c thÃ´ng Ä‘iá»‡p giá»¯a cÃ¡c chuá»—i.
  - **Lá»£i Ã­ch:** Táº¡o ra cÃ¡c giao thá»©c cá»¥ thá»ƒ cho phÃ©p cÃ¡c blockchain tham gia giao dá»‹ch truyá»n dá»¯ liá»‡u trong cáº§u ná»‘i.

#### 2.1.3. HTLCs (Há»£p Äá»“ng KhÃ³a Há»£p Thá»i)

- **Äá»‹nh nghÄ©a:** LÃ  má»™t loáº¡i há»£p Ä‘á»“ng thÃ´ng minh Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ táº¡o Ä‘iá»u kiá»‡n cho cÃ¡c giao dá»‹ch giá»¯a cÃ¡c chuá»—i báº±ng cÃ¡ch khÃ³a tiá»n trÃªn má»™t blockchain vÃ  giáº£i phÃ³ng tiá»n trÃªn blockchain khÃ¡c.
- **Chá»©c nÄƒng:** Cho phÃ©p hai bÃªn táº¡o kÃªnh thanh toÃ¡n Ä‘á»ƒ trao Ä‘á»•i tÃ i sáº£n ká»¹ thuáº­t sá»‘ theo cÃ¡c Ä‘iá»u kiá»‡n cá»¥ thá»ƒ.
- **Äáº£m báº£o tÃ­nh nguyÃªn tá»­:** NgÄƒn cháº·n váº¥n Ä‘á» double spending vÃ  Ä‘áº£m báº£o tÃ­nh nguyÃªn tá»­ cá»§a giao dá»‹ch thÃ´ng qua cÃ¡c khoáº£n thanh toÃ¡n cÃ³ Ä‘iá»u kiá»‡n.

### 2.2. CÃ´ng Nghá»‡ Báº£o Vá»‡ Quyá»n RiÃªng TÆ° Trong Giao Dá»‹ch Giá»¯a CÃ¡c Chuá»—i

#### CÃ¡c NghiÃªn Cá»©u LiÃªn Quan Äáº¿n CÃ´ng Nghá»‡ Báº£o Vá»‡ Quyá»n RiÃªng TÆ°

1. **SÆ¡ Äá»“ Chuyá»ƒn Tiá»n Báº£o Vá»‡ Quyá»n RiÃªng TÆ° TrÃªn Cross-Edge Blockchain Network cá»§a Ma et al.[25]**
   - **MÃ£ HÃ³a ToÃ n Pháº§n Äá»“ng HÃ¬nh (Fully Homomorphic Encryption):** GiÃºp báº£o vá»‡ dá»¯ liá»‡u cross-chain báº±ng cÃ¡ch mÃ£ hÃ³a hoÃ n toÃ n, cho phÃ©p xá»­ lÃ½ dá»¯ liá»‡u mÃ  khÃ´ng cáº§n giáº£i mÃ£.
   - **Relay Chain Nodes:** Má»—i chuá»—i á»©ng dá»¥ng Ä‘Æ°á»£c chia sáº» bÃ­ máº­t giá»¯a cÃ¡c nÃºt cá»§a relay chain, giÃºp cÃ¡c nÃºt nÃ y cÃ³ thá»ƒ phá»¥c há»“i khÃ³a riÃªng Ä‘á»“ng hÃ¬nh toÃ n pháº§n khi cáº§n audit, tá»« Ä‘Ã³ Ä‘áº£m báº£o kháº£ nÄƒng kiá»ƒm toÃ¡n cÃ¡c giao dá»‹ch áº©n danh.
   - **Háº¡n Cháº¿:** Hiá»‡u suáº¥t cá»§a quÃ¡ trÃ¬nh cross-chain bá»‹ giá»›i háº¡n do viá»‡c sá»­ dá»¥ng mÃ£ hÃ³a toÃ n pháº§n Ä‘á»“ng hÃ¬nh, khÃ´ng thá»ƒ thá»±c hiá»‡n giao dá»‹ch tiá»n Ä‘iá»‡n tá»­ giá»¯a cÃ¡c chuá»—i má»™t cÃ¡ch hiá»‡u quáº£.

2. **SÆ¡ Äá»“ GiÃ¡m SÃ¡t vÃ  Báº£o Máº­t Chuyá»ƒn Tiá»n TrÃªn Cross-Chain cá»§a Yang et al.[26]**
   - **Thuáº­t ToÃ¡n Báº±ng Chá»©ng KhÃ´ng Biáº¿t Zero-Knowledge Groth16 vÃ  CÃ´ng Nghá»‡ Trá»™n Äá»“ng Tiá»n (Coin-Mixing):** ÄÆ°á»£c thiáº¿t káº¿ Ä‘á»ƒ giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» cross-chain trong cÃ¡c á»©ng dá»¥ng IoT khÃ´ng tin cáº­y.
   - **Thiáº¿t Káº¿ Táº­p Trung:** YÃªu cáº§u táº¥t cáº£ ngÆ°á»i dÃ¹ng trong má»—i chuá»—i chá»‰ sá»­ dá»¥ng má»™t Ä‘Æ°á»ng cong sinh Ä‘á»ƒ tÃ­nh toÃ¡n Ä‘á»‹a chá»‰ ngoÃ i cá»§a giao dá»‹ch, gÃ¢y ra sá»± phá»¥ thuá»™c vÃ o má»™t thiáº¿t káº¿ táº­p trung.
   
3. **ZeroCross cá»§a Li et al.[27]**
   - **DÃ nh Cho Monero:** Giáº£i phÃ¡p nÃ y chá»‰ cho phÃ©p trao Ä‘á»•i Monero vá»›i cÃ¡c loáº¡i tiá»n tá»‡ khÃ¡c.
   - **PhÃ²ng Chá»‘ng Táº¥n CÃ´ng KÃªnh PhÃ­a Xa (Remote Side-Channel Attacks):** Sá»­ dá»¥ng giao thá»©c CP-SNARK vÃ  bá»™ tÃ­ch lÅ©y (accumulators) Ä‘á»ƒ báº£o vá»‡ giao dá»‹ch.
   - **Háº¡n Cháº¿:** Äá»ƒ trao Ä‘á»•i Bitcoin láº¥y Ether, ngÆ°á»i dÃ¹ng pháº£i thá»±c hiá»‡n hai láº§n trao Ä‘á»•i: Bitcoin â” Monero vÃ  Monero â” Ether, lÃ m tÄƒng chi phÃ­ giao dá»‹ch vÃ  cÃ³ thá»ƒ dáº«n Ä‘áº¿n máº¥t mÃ¡t do biáº¿n Ä‘á»™ng tá»· giÃ¡.

4. **PXCrypto cá»§a Zhang et al.[28]**
   - **Mapping Heterogeneous Tokens:** Gáº¯n cÃ¡c token khÃ¡c nhau lÃªn chuá»—i Ä‘Æ°á»£c phÃ©p PXCrypto thÃ´ng qua báº±ng chá»©ng tÃ i sáº£n giá»¯a cÃ¡c chuá»—i (cross-chain asset proofs), sau Ä‘Ã³ cÃ³ thá»ƒ thá»±c hiá»‡n giao dá»‹ch sá»­ dá»¥ng cÃ¡c token bá»c tÆ°Æ¡ng á»©ng.
   - **Sá»­ Dá»¥ng TÃ­nh ToÃ¡n Äa BÃªn Proxy (Proxy Multi-Party Computing):** Äáº¡t Ä‘Æ°á»£c giao dá»‹ch giá»¯a cÃ¡c chuá»—i báº£o máº­t.
   - **Háº¡n Cháº¿:** Äá»‹a chá»‰ ngÆ°á»i gá»­i trÃªn blockchain cÃ´ng khai cÃ³ thá»ƒ Ä‘Æ°á»£c truy cáº­p bá»Ÿi báº¥t ká»³ ai trong quÃ¡ trÃ¬nh báº±ng chá»©ng tÃ i sáº£n vÃ  quÃ¡ trÃ¬nh Ä‘á»•i.

5. **Sá»­ Dá»¥ng Chá»¯ KÃ½ Adaptor vÃ  Há»£p Äá»“ng KhÃ³a Há»£p Thá»i**
   - **Thyagarajan et al.[30]:** Äá» xuáº¥t má»™t giao thá»©c thá»±c táº¿ cho phÃ©p thá»±c hiá»‡n giao dá»‹ch nguyÃªn tá»­ mÃ  khÃ´ng cáº§n giáº£ Ä‘á»‹nh vá» Ä‘á»™ tin cáº­y. Sá»­ dá»¥ng cÃ¡c cÃ¢u Ä‘á»‘ khÃ³a thá»i gian vÃ  chá»¯ kÃ½ adaptor.
   - **Chen et al.[29]:** Äá» xuáº¥t PACDAM, káº¿t há»£p chá»¯ kÃ½ adapter vÃ  chá»©ng minh khÃ´ng biáº¿t Ä‘á»ƒ xÃ¢y dá»±ng má»™t giao thá»©c trao Ä‘á»•i giá»¯a cÃ¡c chuá»—i báº£o vá»‡ quyá»n riÃªng tÆ° toÃ n diá»‡n vÃ  Ä‘áº¡t Ä‘Æ°á»£c thá»‹ trÆ°á»ng tÃ i sáº£n thÃ­ch á»©ng.
   - **Háº¡n Cháº¿:** CÃ¡c sÆ¡ Ä‘á»“ nÃ y yÃªu cáº§u táº¥t cáº£ cÃ¡c bÃªn tham gia giao dá»‹ch pháº£i Ä‘Ã m phÃ¡n trá»±c tiáº¿p á»Ÿ táº¥t cáº£ cÃ¡c giai Ä‘oáº¡n cá»§a giao dá»‹ch giá»¯a cÃ¡c chuá»—i, vÃ  cÃ³ thá»ƒ truy cáº­p Ä‘áº§y Ä‘á»§ thÃ´ng tin giao dá»‹ch cá»§a nhau. Náº¿u má»™t trong sá»‘ nÃ y bá»‹ táº¥n cÃ´ng, thÃ´ng tin giao dá»‹ch cÃ³ thá»ƒ bá»‹ lá»™, gÃ¢y rá»§i ro cho quyá»n riÃªng tÆ° cá»§a cÃ¡c bÃªn tham gia khÃ¡c.

## 3. CÃ¡c Kiáº¿n Thá»©c CÆ¡ Báº£n (Preliminaries)

### 3.1. Zk-SNARK

**Zk-SNARK** (Zero-Knowledge Succinct Non-Interactive Argument of Knowledge) lÃ  má»™t cÃ´ng nghá»‡ chá»©ng minh khÃ´ng biáº¿t vá»›i tÃ­nh cháº¥t chá»©ng minh ngáº¯n gá»n. Má»™t sÆ¡ Ä‘á»“ zk-SNARK bao gá»“m cÃ¡c thuáº­t toÃ¡n sau:

1. **Setup (Thiáº¿t Láº­p):**
   - **Input:** Tham sá»‘ báº£o máº­t Î» vÃ  má»™t máº¡ch Ä‘áº¡i sá»‘ C vá»›i má»‘i quan há»‡ RC vÃ  ngÃ´n ngá»¯ LC.
   - **Output:** Táº¡o ra khÃ³a chá»©ng minh pk vÃ  khÃ³a xÃ¡c minh vk.

2. **Prove (Chá»©ng Minh):**
   - **Input:** KhÃ³a chá»©ng minh pk, chá»©ng tá»« w, vÃ  má»™t phÃ¡t biá»ƒu x sao cho (x, w) âˆˆ RC.
   - **Output:** Táº¡o ra má»™t chá»©ng minh khÃ´ng tÆ°Æ¡ng tÃ¡c Ï€.

3. **Verify (XÃ¡c Minh):**
   - **Input:** KhÃ³a xÃ¡c minh vk, phÃ¡t biá»ƒu x, vÃ  chá»©ng minh Ï€.
   - **Output:** 1 náº¿u Ï€ lÃ  chá»©ng minh há»£p lá»‡ cho phÃ¡t biá»ƒu x âˆˆ LC, ngÆ°á»£c láº¡i lÃ  0.

**CÃ¡c TÃ­nh Cháº¥t:**
- **HoÃ n Thiá»‡n (Completeness):** Náº¿u má»™t máº¡ch Ä‘áº¡i sá»‘ C vÃ  má»™t cáº·p (x, w) thá»a mÃ£n (x, w) âˆˆ RC, thÃ¬ má»™t ngÆ°á»i chá»©ng minh trung thá»±c luÃ´n thuyáº¿t phá»¥c Ä‘Æ°á»£c ngÆ°á»i xÃ¡c minh trung thá»±c.
- **Kiáº¿n Thá»©c Ã‚m Ã‚u (Knowledge Soundness):** Náº¿u (x, w) âˆ‰ RC, kháº£ nÄƒng táº¡o ra Ï€ sao cho Verify(vk, x, Ï€) â†’ 1 lÃ  khÃ´ng Ä‘Ã¡ng ká»ƒ.
- **KhÃ´ng Biáº¿t Zero-Knowledge (Zero Knowledge):** Chá»©ng minh Ä‘Æ°á»£c táº¡o ra bá»Ÿi ngÆ°á»i chá»©ng minh trung thá»±c khÃ´ng cung cáº¥p báº¥t ká»³ thÃ´ng tin nÃ o vá» chá»©ng tá»« cho káº» táº¥n cÃ´ng trong thá»i gian Ä‘a thá»©c.

### 3.2. SÆ¡ Äá»“ Cam Káº¿t (Commitment Scheme)

**SÆ¡ Äá»“ Cam Káº¿t** bao gá»“m hai thuáº­t toÃ¡n: Commit vÃ  Verify.

1. **Commit (Cam Káº¿t):**
   - **Input:** ThÃ´ng Ä‘iá»‡p m vÃ  pháº§n tá»­ ngáº«u nhiÃªn r.
   - **Output:** Commitment COM = Commit(m, r).

2. **Verify (XÃ¡c Minh):**
   - **Input:** ThÃ´ng Ä‘iá»‡p m, pháº§n tá»­ ngáº«u nhiÃªn r, vÃ  cam káº¿t COM.
   - **Output:** 0 hoáº·c 1, chá»‰ ra liá»‡u COM cÃ³ pháº£i lÃ  cam káº¿t há»£p lá»‡ cho thÃ´ng Ä‘iá»‡p m vÃ  pháº§n tá»­ ngáº«u nhiÃªn r hay khÃ´ng.

**TÃ­nh Cháº¥t:**
- **RÃ ng Buá»™c (Binding):** NgÆ°á»i cam káº¿t khÃ´ng thá»ƒ thay Ä‘á»•i thÃ´ng Ä‘iá»‡p m sau khi Ä‘Ã£ cam káº¿t.
- **áº¨n Danh (Hiding):** NgÆ°á»i xÃ¡c minh khÃ´ng thá»ƒ biáº¿t Ä‘Æ°á»£c thÃ´ng Ä‘iá»‡p m tá»« cam káº¿t COM mÃ  khÃ´ng cÃ³ thÃ´ng tin vá» r.

## Káº¿t Luáº­n

Pháº§n nÃ y Ä‘Ã£ trÃ¬nh bÃ y chi tiáº¿t vá» cÃ¡c giáº£i phÃ¡p vÃ  cÃ´ng nghá»‡ báº£o vá»‡ quyá»n riÃªng tÆ° trong giao dá»‹ch tiá»n Ä‘iá»‡n tá»­ giá»¯a cÃ¡c chuá»—i, bao gá»“m cÃ¡c sÆ¡ Ä‘á»“ notary, sidechains, relays, HTLCs, vÃ  cÃ¡c giáº£i phÃ¡p sá»­ dá»¥ng chá»©ng minh khÃ´ng biáº¿t nhÆ° zk-SNARK. NgoÃ i ra, cÅ©ng Ä‘Ã£ giá»›i thiá»‡u cÃ¡c kiáº¿n thá»©c cÆ¡ báº£n vá» zk-SNARK vÃ  sÆ¡ Ä‘á»“ cam káº¿t, nhá»¯ng cÃ´ng nghá»‡ ná»n táº£ng quan trá»ng trong viá»‡c xÃ¢y dá»±ng cÃ¡c giao thá»©c báº£o máº­t vÃ  báº£o vá»‡ quyá»n riÃªng tÆ° cho cÃ¡c giao dá»‹ch giá»¯a cÃ¡c chuá»—i blockchain.

Náº¿u báº¡n cáº§n thÃªm thÃ´ng tin hoáº·c giáº£i thÃ­ch chi tiáº¿t hÆ¡n vá» báº¥t ká»³ pháº§n nÃ o, hÃ£y cho tÃ´i biáº¿t!

# Giáº£i ThÃ­ch Pháº§n Tiáº¿p Theo Vá» Cam Káº¿t Pedersen vÃ  Kiáº¿n TrÃºc Há»‡ Thá»‘ng

## 3.2. SÆ¡ Äá»“ Cam Káº¿t (tiáº¿p tá»¥c)

**SÆ¡ Ä‘á»“ Cam Káº¿t** giÃºp má»™t bÃªn chá»©ng minh (prover) thuyáº¿t phá»¥c cÃ¡c bÃªn xÃ¡c minh (verifiers) ráº±ng má»™t thÃ´ng Ä‘iá»‡p \( m \) Ä‘Ã£ Ä‘Æ°á»£c cam káº¿t mÃ  khÃ´ng tiáº¿t lá»™ ná»™i dung cá»§a nÃ³.

### Cam Káº¿t Pedersen

ChÃºng ta giá»›i thiá»‡u **SÆ¡ Ä‘á»“ Cam Káº¿t Pedersen** \[32\], cÃ³ Ä‘áº·c tÃ­nh **áº©n hoÃ n háº£o** (perfectly hiding) vÃ  **rÃ ng buá»™c tÃ­nh toÃ¡n** (computationally binding).

- **Äá»‹nh NghÄ©a:**
  - Cho \( q \) lÃ  má»™t sá»‘ nguyÃªn tá»‘ vÃ  \( G_q \) lÃ  má»™t nhÃ³m xoáº¯n vÃ²ng cÃ³ thá»© tá»± \( q \) vá»›i hai trÃ¬nh sinh \( g \) vÃ  \( h \).
  - **Thuáº­t toÃ¡n Cam Káº¿t:**
    \[
    \text{Commit}(m, r) = g^m h^r = \text{COM}
    \]
    - **Input:** \( m \in \mathbb{Z}_q \) (thÃ´ng Ä‘iá»‡p) vÃ  \( r \in \mathbb{Z}_q \) (pháº§n tá»­ ngáº«u nhiÃªn).
    - **Output:** Cam káº¿t \( \text{COM} \).
  - **Thuáº­t toÃ¡n XÃ¡c Minh:**
    \[
    \text{Verify}(m, r, \text{COM}) \rightarrow \{0, 1\}
    \]
    - **Input:** ThÃ´ng Ä‘iá»‡p \( m \), pháº§n tá»­ ngáº«u nhiÃªn \( r \), vÃ  cam káº¿t \( \text{COM} \).
    - **Output:** Tráº£ vá» \( 1 \) náº¿u \( g^m h^r = \text{COM} \), ngÆ°á»£c láº¡i tráº£ vá» \( 0 \).

## 4. Kiáº¿n TrÃºc Há»‡ Thá»‘ng vÃ  MÃ´ HÃ¬nh

### 4.1. MÃ´ HÃ¬nh Há»‡ Thá»‘ng

**HÃ¬nh 1. MÃ´ hÃ¬nh há»‡ thá»‘ng cá»§a sÆ¡ Ä‘á»“ chuyá»ƒn tiá»n Ä‘iá»‡n tá»­ giá»¯a cÃ¡c chuá»—i báº£o vá»‡ quyá»n riÃªng tÆ°**

HÃ¬nh 1 mÃ´ táº£ kiáº¿n trÃºc há»‡ thá»‘ng tá»•ng thá»ƒ, bao gá»“m nÄƒm thÃ nh pháº§n chÃ­nh, má»—i thÃ nh pháº§n Ä‘Æ°á»£c mÃ´ táº£ dÆ°á»›i Ä‘Ã¢y:

#### 1. NgÆ°á»i Gá»­i (Payer)

- **Äá»‹nh NghÄ©a:** LÃ  ngÆ°á»i dÃ¹ng mong muá»‘n chuyá»ƒn hoáº·c trao Ä‘á»•i tiá»n Ä‘iá»‡n tá»­ giá»¯a cÃ¡c blockchain má»™t cÃ¡ch áº©n danh.
- **Äáº·c Ä‘iá»ƒm:**
  - Má»—i ngÆ°á»i gá»­i sá»Ÿ há»¯u nhiá»u Ä‘á»‹a chá»‰ trÃªn cÃ¡c blockchain vÃ  loáº¡i tiá»n Ä‘iá»‡n tá»­ khÃ¡c nhau trong cÃ¡c Ä‘á»‹a chá»‰ nÃ y.

#### 2. Trung Gian (Intermediary)

- **Äá»‹nh NghÄ©a:** Chá»‹u trÃ¡ch nhiá»‡m khÃ³a vÃ  giáº£i phÃ³ng tiá»n Ä‘iá»‡n tá»­ má»™t cÃ¡ch áº©n danh trong cÃ¡c giao dá»‹ch giá»¯a cÃ¡c chuá»—i.
- **Äáº·c Ä‘iá»ƒm:**
  - CÃ³ nhiá»u Ä‘á»‹a chá»‰ trÃªn cÃ¡c blockchain nguá»“n khÃ¡c nhau.
  - Cáº§n pháº£i gá»­i cá»c (collateral) trÃªn blockchain giao dá»‹ch.
  - Trung gian cáº§n Ä‘Æ°á»£c Ä‘Äƒng kÃ½ trong há»£p Ä‘á»“ng thÃ´ng minh cá»§a giao dá»‹ch.

#### 3. Blockchain Nguá»“n (Source Blockchain)

- **Äá»‹nh NghÄ©a:** CÃ¡c blockchain nguá»“n khÃ¡c nhau cÃ³ cÃ¡c loáº¡i tiá»n Ä‘iá»‡n tá»­ khÃ¡c nhau mÃ  khÃ´ng thá»ƒ giao dá»‹ch trá»±c tiáº¿p vá»›i nhau, vÃ­ dá»¥ nhÆ° Bitcoin vÃ  Ether.

#### 4. Blockchain Giao Dá»‹ch (Transaction Blockchain)

- **Äá»‹nh NghÄ©a:** YÃªu cáº§u má»™t phÆ°Æ¡ng phÃ¡p Ä‘á»ƒ táº¡o tÃ i sáº£n tÃ¹y chá»‰nh vÃ  há»— trá»£ xÃ¡c minh cÃ¡c chá»©ng minh zk-SNARK.

#### 5. Há»£p Äá»“ng ThÃ´ng Minh Giao Dá»‹ch (Transaction Smart Contract)

- **Äá»‹nh NghÄ©a:** LÃ  cÃ¡c há»£p Ä‘á»“ng thÃ´ng minh Ä‘Æ°á»£c triá»ƒn khai trÃªn blockchain giao dá»‹ch vÃ  thá»±c hiá»‡n cÃ¡c giao dá»‹ch tiá»n Ä‘iá»‡n tá»­ Ä‘Æ°á»£c Ã¡nh xáº¡ má»™t cÃ¡ch báº£o máº­t.

### Báº£ng 1. TÃ³m Táº¯t CÃ¡c KÃ½ Hiá»‡u

*Báº£ng nÃ y thÆ°á»ng sáº½ liá»‡t kÃª cÃ¡c kÃ½ hiá»‡u vÃ  Ä‘á»‹nh nghÄ©a tÆ°Æ¡ng á»©ng trong há»‡ thá»‘ng.*

### Tá»•ng Quan Vá» SÆ¡ Äá»“ Chuyá»ƒn Tiá»n

Äá»ƒ tiá»‡n lá»£i, giáº£ sá»­ ráº±ng cÃ¡c ngÆ°á»i gá»­i thay Ä‘á»•i tiá»n Ä‘iá»‡n tá»­ giá»¯a Bitcoin vÃ  Ethereum. CÃ¡c bÆ°á»›c thá»±c hiá»‡n nhÆ° sau:

1. **YÃªu Cáº§u Giao Dá»‹ch:**
   - NgÆ°á»i gá»­i \( P_a \) vÃ  \( P_b \) yÃªu cáº§u giao dá»‹ch khÃ³a tá»« trung gian \( I_1 \) vÃ  \( I_2 \) tÆ°Æ¡ng á»©ng.
   
2. **TÃ­nh ToÃ¡n Cam Káº¿t:**
   - Há» tÃ­nh toÃ¡n cam káº¿t vá» chi tiáº¿t giao dá»‹ch vÃ  gá»­i cÃ¡c cam káº¿t nÃ y Ä‘áº¿n há»£p Ä‘á»“ng thÃ´ng minh \( SC_t \).
   
3. **KhÃ³a Tiá»n Äiá»‡n Tá»­:**
   - Bitcoins hoáº·c ethers Ä‘Æ°á»£c khÃ³a má»™t cÃ¡ch áº©n danh vÃ o Ä‘á»‹a chá»‰ cá»§a trung gian trong giao dá»‹ch khÃ³a.
   
4. **Náº¡p Tiá»n Äiá»‡n Tá»­:**
   - Sau khi nháº­n Ä‘Æ°á»£c tiá»n Ä‘Ã£ Ä‘Æ°á»£c khÃ³a, \( I_1 \) vÃ  \( I_2 \) gá»­i thÃ´ng tin giao dá»‹ch Mint Ä‘áº¿n \( SC_t \) Ä‘á»ƒ táº¡o ra tiá»n Ä‘iá»‡n tá»­ Ä‘Æ°á»£c Ã¡nh xáº¡ (máº¯t Ä‘á»‹nh dáº¡ng).

### VÃ­ Dá»¥ Minh Há»a

Giáº£ sá»­ \( P_a \) vÃ  \( P_b \) muá»‘n trao Ä‘á»•i Bitcoin láº¥y Ether:

1. **Giao Dá»‹ch KhÃ³a:**
   - \( P_a \) yÃªu cáº§u \( I_1 \) khÃ³a Bitcoin vÃ o há»£p Ä‘á»“ng thÃ´ng minh.
   - \( P_b \) yÃªu cáº§u \( I_2 \) khÃ³a Ether vÃ o há»£p Ä‘á»“ng thÃ´ng minh.
   
2. **Cam Káº¿t vÃ  Chá»©ng Minh:**
   - CÃ¡c cam káº¿t giao dá»‹ch Ä‘Æ°á»£c tÃ­nh toÃ¡n vÃ  gá»­i Ä‘áº¿n \( SC_t \).
   
3. **Minting Token:**
   - \( I_1 \) vÃ  \( I_2 \) táº¡o ra cÃ¡c token tÆ°Æ¡ng á»©ng trÃªn blockchain giao dá»‹ch dá»±a trÃªn cÃ¡c cam káº¿t Ä‘Ã£ nháº­n.
   
4. **HoÃ n Táº¥t Giao Dá»‹ch:**
   - NgÆ°á»i gá»­i nháº­n Ä‘Æ°á»£c cÃ¡c token Ä‘Æ°á»£c Ã¡nh xáº¡ má»™t cÃ¡ch áº©n danh thay vÃ¬ trá»±c tiáº¿p trao Ä‘á»•i giá»¯a cÃ¡c blockchain nguá»“n.

## Káº¿t Luáº­n

Pháº§n nÃ y Ä‘Ã£ trÃ¬nh bÃ y vá» **SÆ¡ Ä‘á»“ Cam Káº¿t Pedersen** vÃ  **kiáº¿n trÃºc há»‡ thá»‘ng** cá»§a sÆ¡ Ä‘á»“ chuyá»ƒn tiá»n Ä‘iá»‡n tá»­ giá»¯a cÃ¡c chuá»—i báº£o vá»‡ quyá»n riÃªng tÆ°. CÃ¡c thÃ nh pháº§n chÃ­nh bao gá»“m ngÆ°á»i gá»­i, trung gian, blockchain nguá»“n, blockchain giao dá»‹ch, vÃ  há»£p Ä‘á»“ng thÃ´ng minh giao dá»‹ch, cÃ¹ng vá»›i quÃ¡ trÃ¬nh thá»±c hiá»‡n giao dá»‹ch báº£o máº­t giá»¯a cÃ¡c blockchain khÃ¡c nhau.

Náº¿u báº¡n cáº§n giáº£i thÃ­ch thÃªm hoáº·c cÃ³ báº¥t ká»³ cÃ¢u há»i nÃ o khÃ¡c, hÃ£y cho tÃ´i biáº¿t!

# Giáº£i ThÃ­ch Báº£ng KÃ½ Hiá»‡u vÃ  Kiáº¿n TrÃºc Há»‡ Thá»‘ng

## Báº£ng 1. KÃ½ Hiá»‡u

| **KÃ½ Hiá»‡u** | **MÃ´ Táº£**                                                                                                     |
|-------------|----------------------------------------------------------------------------------------------------------------|
| ğ‘ƒâ‚, ğ‘ƒğ‘         | NgÆ°á»i gá»­i cá»§a má»™t giao dá»‹ch                                                                                   |
| ğ¼â‚, ğ¼â‚‚         | Trung gian cá»§a má»™t giao dá»‹ch                                                                                  |
| ğ‘†â‚, ğ‘†â‚‚         | Blockchain nguá»“n                                                                                              |
| ğ‘‡ğµ            | Blockchain giao dá»‹ch                                                                                           |
| ğ‘†ğ¶â‚œ           | Há»£p Ä‘á»“ng thÃ´ng minh giao dá»‹ch                                                                                  |
| ğ»ğ‘ğ‘ â„          | HÃ m bÄƒm chá»‘ng va cháº¡m                                                                                           |
| ğ¶ğ‘‚ğ‘€          | SÆ¡ Ä‘á»“ cam káº¿t                                                                                                  |
| ğ¶ğ‘†           | Äá»“ng tiá»n Ä‘Æ°á»£c Ã¡nh xáº¡ há»— trá»£ bá»Ÿi blockchain nguá»“n ğ‘†                                                           |
| Î”ğ‘–ğ‘‘          | Khoáº£ng thá»i gian trá»… vá»›i Ä‘á»‹nh danh ğ‘–ğ‘‘                                                                         |
| ğ‘ ğ‘›           | Sá»‘ seri cá»§a má»™t cam káº¿t Ä‘á»“ng tiá»n Ä‘Æ°á»£c Ã¡nh xáº¡                                                                   |
| ğ‘‡ğ‘‹ğ‘–ğ‘‘        | Giao dá»‹ch vá»›i Ä‘á»‹nh danh ğ‘–ğ‘‘                                                                                     |
| ğ‘Ÿğ‘¡ğ‘†          | Gá»‘c cá»§a cÃ¢y Merkle lÆ°u trá»¯ cÃ¡c cam káº¿t Ä‘á»“ng tiá»n Ä‘Æ°á»£c Ã¡nh xáº¡ há»— trá»£ bá»Ÿi blockchain nguá»“n ğ‘†                      |
| ğ‘ƒğ‘†ğ‘ğ‘˜, ğ¼ğ‘†ğ‘ğ‘˜  | Äá»‹a chá»‰ cÃ´ng khai cá»§a ngÆ°á»i gá»­i hoáº·c trung gian trong blockchain nguá»“n ğ‘†                                      |
| ğ‘Ÿğ‘ğ‘¡ğ‘’ğ‘†â‚‚, ğ‘†â‚   | Tá»· giÃ¡ trao Ä‘á»•i tiá»n Ä‘iá»‡n tá»­ giá»¯a blockchain ğ‘†â‚ vÃ  blockchain ğ‘†â‚‚ cho cÃ¡c Ä‘á»“ng tiá»n Ä‘Æ°á»£c Ã¡nh xáº¡               |

## 4.1. MÃ´ HÃ¬nh Há»‡ Thá»‘ng

HÃ¬nh 1 dÆ°á»›i Ä‘Ã¢y mÃ´ táº£ kiáº¿n trÃºc há»‡ thá»‘ng tá»•ng thá»ƒ cá»§a sÆ¡ Ä‘á»“ chuyá»ƒn tiá»n Ä‘iá»‡n tá»­ giá»¯a cÃ¡c chuá»—i báº£o vá»‡ quyá»n riÃªng tÆ°, bao gá»“m nÄƒm thÃ nh pháº§n chÃ­nh:

- **NgÆ°á»i Gá»­i (Payer):** LÃ  ngÆ°á»i dÃ¹ng mong muá»‘n chuyá»ƒn hoáº·c trao Ä‘á»•i tiá»n Ä‘iá»‡n tá»­ giá»¯a cÃ¡c blockchain má»™t cÃ¡ch áº©n danh. Má»—i ngÆ°á»i gá»­i sá»Ÿ há»¯u nhiá»u Ä‘á»‹a chá»‰ trÃªn cÃ¡c blockchain vÃ  cÃ¡c loáº¡i tiá»n Ä‘iá»‡n tá»­ khÃ¡c nhau trong cÃ¡c Ä‘á»‹a chá»‰ nÃ y.

- **Trung Gian (Intermediary):** Chá»‹u trÃ¡ch nhiá»‡m khÃ³a vÃ  giáº£i phÃ³ng tiá»n Ä‘iá»‡n tá»­ má»™t cÃ¡ch áº©n danh trong cÃ¡c giao dá»‹ch giá»¯a cÃ¡c chuá»—i. Trung gian cÃ³ nhiá»u Ä‘á»‹a chá»‰ trÃªn cÃ¡c blockchain nguá»“n khÃ¡c nhau vÃ  cáº§n pháº£i gá»­i cá»c (collateral) trÃªn blockchain giao dá»‹ch. Trung gian cáº§n Ä‘Æ°á»£c Ä‘Äƒng kÃ½ trong há»£p Ä‘á»“ng thÃ´ng minh cá»§a giao dá»‹ch.

- **Blockchain Nguá»“n (Source Blockchain):** CÃ¡c blockchain nguá»“n khÃ¡c nhau cÃ³ cÃ¡c loáº¡i tiá»n Ä‘iá»‡n tá»­ khÃ¡c nhau mÃ  khÃ´ng thá»ƒ giao dá»‹ch trá»±c tiáº¿p vá»›i nhau, cháº³ng háº¡n nhÆ° Bitcoin vÃ  Ether.

- **Blockchain Giao Dá»‹ch (Transaction Blockchain):** YÃªu cáº§u má»™t phÆ°Æ¡ng phÃ¡p Ä‘á»ƒ táº¡o tÃ i sáº£n tÃ¹y chá»‰nh vÃ  há»— trá»£ xÃ¡c minh cÃ¡c chá»©ng minh zk-SNARK.

- **Há»£p Äá»“ng ThÃ´ng Minh Giao Dá»‹ch (Transaction Smart Contract):** LÃ  cÃ¡c há»£p Ä‘á»“ng thÃ´ng minh Ä‘Æ°á»£c triá»ƒn khai trÃªn blockchain giao dá»‹ch vÃ  thá»±c hiá»‡n cÃ¡c giao dá»‹ch tiá»n Ä‘iá»‡n tá»­ Ä‘Æ°á»£c Ã¡nh xáº¡ má»™t cÃ¡ch báº£o máº­t.

### Quy TrÃ¬nh Hoáº¡t Äá»™ng

Äá»ƒ tiá»‡n lá»£i, giáº£ sá»­ ráº±ng cÃ¡c ngÆ°á»i gá»­i thay Ä‘á»•i tiá»n Ä‘iá»‡n tá»­ giá»¯a Bitcoin vÃ  Ethereum. Quy trÃ¬nh thá»±c hiá»‡n nhÆ° sau:

1. **YÃªu Cáº§u Giao Dá»‹ch:**
   - NgÆ°á»i gá»­i \( P_a \) vÃ  \( P_b \) yÃªu cáº§u giao dá»‹ch khÃ³a tá»« trung gian \( I_1 \) vÃ  \( I_2 \) tÆ°Æ¡ng á»©ng.

2. **TÃ­nh ToÃ¡n Cam Káº¿t:**
   - Há» tÃ­nh toÃ¡n cam káº¿t vá» chi tiáº¿t giao dá»‹ch vÃ  gá»­i cÃ¡c cam káº¿t nÃ y Ä‘áº¿n há»£p Ä‘á»“ng thÃ´ng minh \( SC_t \).

3. **KhÃ³a Tiá»n Äiá»‡n Tá»­:**
   - Bitcoins hoáº·c ethers Ä‘Æ°á»£c khÃ³a má»™t cÃ¡ch áº©n danh vÃ o Ä‘á»‹a chá»‰ cá»§a trung gian trong giao dá»‹ch khÃ³a.

4. **Náº¡p Tiá»n Äiá»‡n Tá»­:**
   - Sau khi nháº­n Ä‘Æ°á»£c tiá»n Ä‘Ã£ Ä‘Æ°á»£c khÃ³a, \( I_1 \) vÃ  \( I_2 \) gá»­i thÃ´ng tin giao dá»‹ch Mint Ä‘áº¿n \( SC_t \) Ä‘á»ƒ táº¡o ra tiá»n Ä‘iá»‡n tá»­ Ä‘Æ°á»£c Ã¡nh xáº¡.

5. **Trao Äá»•i NguyÃªn Tá»­:**
   - NgÆ°á»i gá»­i sá»­ dá»¥ng giao thá»©c trao Ä‘á»•i nguyÃªn tá»­ Ä‘á»ƒ trao Ä‘á»•i cÃ¡c Ä‘á»“ng tiá»n Ä‘Æ°á»£c Ã¡nh xáº¡.

6. **YÃªu Cáº§u RÃºt Tiá»n:**
   - Cuá»‘i cÃ¹ng, \( P_a \) vÃ  \( P_b \) yÃªu cáº§u giao dá»‹ch rÃºt tiá»n tá»« há»£p Ä‘á»“ng thÃ´ng minh vÃ  Ä‘Ã m phÃ¡n chi tiáº¿t cÃ¡c giao dá»‹ch giáº£i phÃ³ng vá»›i trung gian tÆ°Æ¡ng á»©ng. Trung gian sáº½ chuyá»ƒn loáº¡i vÃ  sá»‘ lÆ°á»£ng tiá»n tÆ°Æ¡ng á»©ng Ä‘áº¿n ngÆ°á»i gá»­i má»™t cÃ¡ch riÃªng tÆ°.

### Xá»­ LÃ½ Khi Trung Gian KhÃ´ng Thá»±c Hiá»‡n ÄÃºng

Náº¿u trung gian khÃ´ng thá»±c hiá»‡n Ä‘Ãºng giao dá»‹ch khÃ³a, ngÆ°á»i gá»­i cÃ³ thá»ƒ tranh cháº¥p trong má»™t khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh Ä‘á»ƒ nháº­n Ä‘Æ°á»£c cá»c tá»« trung gian nhÆ° má»™t khoáº£n bá»“i thÆ°á»ng. TÆ°Æ¡ng tá»±, náº¿u trung gian khÃ´ng thá»±c hiá»‡n Ä‘Ãºng giao dá»‹ch giáº£i phÃ³ng, ngÆ°á»i gá»­i cÃ³ thá»ƒ tranh cháº¥p trong má»™t khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh Ä‘á»ƒ nháº­n Ä‘Æ°á»£c cá»c hoáº·c yÃªu cáº§u giao dá»‹ch giáº£i phÃ³ng tá»« cÃ¡c trung gian khÃ¡c.

## 4.2. Cáº¥u TrÃºc Dá»¯ Liá»‡u

SÆ¡ Ä‘á»“ cá»§a chÃºng tÃ´i bao gá»“m cÃ¡c cáº¥u trÃºc dá»¯ liá»‡u sau:

- **Ledger (Sá»• CÃ¡i):** SÆ¡ Ä‘á»“ cá»§a chÃºng tÃ´i dá»±a trÃªn má»™t blockchain giao dá»‹ch.

- **Cam Káº¿t vÃ  Sá»‘ Seri:**
  - SÆ¡ Ä‘á»“ sá»­ dá»¥ng má»™t sÆ¡ Ä‘á»“ cam káº¿t Ä‘á»ƒ xÃ¢y dá»±ng Ä‘á»“ng tiá»n Ä‘Æ°á»£c Ã¡nh xáº¡ vÃ  sá»­ dá»¥ng sá»‘ seri Ä‘á»ƒ ngÄƒn cháº·n viá»‡c chi tiÃªu gáº¥p Ä‘Ã´i.
  - Äá»‹nh nghÄ©a cam káº¿t Ä‘á»“ng tiá»n Ä‘Æ°á»£c Ã¡nh xáº¡ lÃ  \( CS = \text{Hashs}(v||apk) \), khÃ³a cÃ´ng khai cá»§a má»™t Ä‘á»“ng tiá»n Ä‘Æ°á»£c Ã¡nh xáº¡ lÃ  \( apk = \text{Hashp}(ask) \), vÃ  sá»‘ seri cá»§a má»™t Ä‘á»“ng tiá»n Ä‘Æ°á»£c Ã¡nh xáº¡ lÃ  \( sn = \text{Hashask}(CS) \).
  - Äá»“ng tiá»n Ä‘Æ°á»£c Ã¡nh xáº¡ Ä‘Æ°á»£c kÃ½ hiá»‡u lÃ  \( mcS := (apk, ask, p, v, s, CS) \), bao gá»“m thÃ´ng tin cáº§n thiáº¿t Ä‘á»ƒ chi tiÃªu má»™t cam káº¿t.

- **CÃ¢y Merkle:**
  - CÃ¡c loáº¡i cam káº¿t tiá»n Ä‘iá»‡n tá»­ Ä‘Æ°á»£c Ã¡nh xáº¡ khÃ¡c nhau Ä‘Æ°á»£c lÆ°u trá»¯ trong cÃ¡c cÃ¢y Merkle khÃ¡c nhau.
  - ÄÆ°á»ng dáº«n xÃ¡c thá»±c tá»« má»™t cam káº¿t \( COM \) Ä‘áº¿n gá»‘c cÃ¢y Merkle Ä‘Æ°á»£c kÃ½ hiá»‡u lÃ  \( \text{Path}(COM) \).
  - Äá»‹nh nghÄ©a \( \text{CMListTS} \) lÃ  danh sÃ¡ch lÆ°u trá»¯ cÃ¡c cam káº¿t Ä‘á»“ng tiá»n Ä‘Æ°á»£c Ã¡nh xáº¡ tá»« blockchain nguá»“n \( S \) táº¡i thá»i Ä‘iá»ƒm \( T \), \( \text{SNListTS} \) lÃ  danh sÃ¡ch lÆ°u trá»¯ cÃ¡c sá»‘ seri Ä‘Ã£ sá»­ dá»¥ng.
  - Äá»ƒ cho phÃ©p giao dá»‹ch trao Ä‘á»•i nguyÃªn tá»­, Ä‘á»‹nh nghÄ©a \( \text{LockCMListTS} \) lÃ  danh sÃ¡ch lÆ°u trá»¯ cÃ¡c cam káº¿t Ä‘Ã£ Ä‘Æ°á»£c khÃ³a.

## 4.3. MÃ´ HÃ¬nh Báº£o Máº­t

Trong sÆ¡ Ä‘á»“ cá»§a chÃºng tÃ´i, ngÆ°á»i gá»­i vÃ  trung gian khÃ´ng Ä‘Æ°á»£c tin tÆ°á»Ÿng, vá»›i má»¥c tiÃªu thu nháº­n cÃ ng nhiá»u tiá»n cÃ ng tá»‘t vÃ  trÃ¡nh cÃ¡c tá»•n tháº¥t tÃ i chÃ­nh.

CÃ¡c giáº£ Ä‘á»‹nh báº£o máº­t trong sÆ¡ Ä‘á»“ bao gá»“m:

- **An ToÃ n cá»§a CÃ¡c NguyÃªn Tá»‘ MÃ£ HÃ³a:** CÃ¡c sÆ¡ Ä‘á»“ mÃ£ hÃ³a Ä‘Æ°á»£c sá»­ dá»¥ng trong bÃ i bÃ¡o nÃ y Ä‘Æ°á»£c giáº£ Ä‘á»‹nh lÃ  an toÃ n.
- **RÃ ng Buá»™c TÃ­nh TÃ­nh ToÃ¡n cá»§a Káº» ThÃ¹:** Káº» thÃ¹ bá»‹ rÃ ng buá»™c vá» máº·t tÃ­nh toÃ¡n.
- **ThÃ´ng Sá»‘ CÃ´ng Khai ÄÆ°á»£c Táº¡o Bá»Ÿi BÃªn Tin Cáº­y:** ThÃ´ng sá»‘ cÃ´ng khai Ä‘Æ°á»£c táº¡o ra bá»Ÿi má»™t bÃªn tin cáº­y trong giai Ä‘oáº¡n khá»Ÿi táº¡o há»‡ thá»‘ng.

### Má»¥c TiÃªu Báº£o Máº­t

ChÃºng tÃ´i Ä‘á»‹nh nghÄ©a khÃ´ng chÃ­nh thá»©c cÃ¡c má»¥c tiÃªu báº£o máº­t nhÆ° sau:

- **KhÃ´ng Kháº£ Dá»¥ng PhÃ¢n Biá»‡t Giao Dá»‹ch (Transaction Indistinguishability):**
  - CÃ¡c giao dá»‹ch khÃ³a hoáº·c giáº£i phÃ³ng trÃªn blockchain nguá»“n khÃ´ng thá»ƒ phÃ¢n biá»‡t Ä‘Æ°á»£c vá»›i cÃ¡c giao dá»‹ch thÃ´ng thÆ°á»ng khÃ¡c trÃªn blockchain. Äiá»u nÃ y Ä‘áº£m báº£o ráº±ng cÃ¡c giao dá»‹ch giá»¯a cÃ¡c chuá»—i khÃ´ng bá»‹ phÃ¡t hiá»‡n lÃ  giao dá»‹ch Ä‘áº·c biá»‡t, tÄƒng cÆ°á»ng tÃ­nh báº£o máº­t vÃ  riÃªng tÆ° cho ngÆ°á»i dÃ¹ng.

## Káº¿t Luáº­n

Pháº§n nÃ y Ä‘Ã£ trÃ¬nh bÃ y chi tiáº¿t vá» **Báº£ng KÃ½ Hiá»‡u**, **mÃ´ hÃ¬nh há»‡ thá»‘ng**, **cáº¥u trÃºc dá»¯ liá»‡u**, vÃ  **mÃ´ hÃ¬nh báº£o máº­t** cá»§a sÆ¡ Ä‘á»“ chuyá»ƒn tiá»n Ä‘iá»‡n tá»­ giá»¯a cÃ¡c chuá»—i báº£o vá»‡ quyá»n riÃªng tÆ°. CÃ¡c thÃ nh pháº§n chÃ­nh bao gá»“m ngÆ°á»i gá»­i, trung gian, blockchain nguá»“n, blockchain giao dá»‹ch, vÃ  há»£p Ä‘á»“ng thÃ´ng minh giao dá»‹ch, cÃ¹ng vá»›i cÃ¡c cáº¥u trÃºc dá»¯ liá»‡u nhÆ° sá»• cÃ¡i, cam káº¿t, sá»‘ seri vÃ  cÃ¢y Merkle. MÃ´ hÃ¬nh báº£o máº­t Ä‘áº£m báº£o tÃ­nh khÃ´ng kháº£ dá»¥ng phÃ¢n biá»‡t giao dá»‹ch, giÃºp báº£o vá»‡ quyá»n riÃªng tÆ° vÃ  an toÃ n cho cÃ¡c giao dá»‹ch giá»¯a cÃ¡c chuá»—i blockchain khÃ¡c nhau.

Náº¿u báº¡n cáº§n thÃªm thÃ´ng tin hoáº·c giáº£i thÃ­ch chi tiáº¿t hÆ¡n vá» báº¥t ká»³ pháº§n nÃ o, hÃ£y cho tÃ´i biáº¿t!

# Giáº£i ThÃ­ch CÃ¡c Má»¥c TiÃªu Báº£o Máº­t vÃ  Giao Thá»©c KhÃ³a vÃ  Giáº£i PhÃ³ng Tiá»n Äiá»‡n Tá»­ Báº£o Vá»‡ Quyá»n RiÃªng TÆ°

## 4.3. MÃ´ HÃ¬nh Báº£o Máº­t

### CÃ¡c Má»¥c TiÃªu Báº£o Máº­t

- **KhÃ´ng kháº£ dá»¥ng phÃ¢n biá»‡t sá»• cÃ¡i (Ledger Indistinguishability):**
  - Má»™t káº» Ä‘á»‹ch bá»‹ giá»›i háº¡n khÃ´ng thá»ƒ thu tháº­p thÃªm thÃ´ng tin tá»« sá»• cÃ¡i ngoÃ i nhá»¯ng gÃ¬ Ä‘Ã£ Ä‘Æ°á»£c cÃ´ng khai, ngay cáº£ khi háº¯n cÃ³ thá»ƒ quan sÃ¡t táº¥t cáº£ thÃ´ng tin cÃ´ng khai vÃ  tÆ°Æ¡ng tÃ¡c vá»›i cÃ¡c bÃªn trung thá»±c.

- **KhÃ´ng biáº¿n Ä‘á»•i giao dá»‹ch (Transaction Non-malleability):**
  - Dá»¯ liá»‡u giao dá»‹ch khÃ´ng thá»ƒ bá»‹ káº» Ä‘á»‹ch bá»‹ giá»›i háº¡n sá»­a Ä‘á»•i.

- **Sá»‘ dÆ° (Balance):**
  - Má»™t káº» Ä‘á»‹ch bá»‹ giá»›i háº¡n khÃ´ng thá»ƒ sá»Ÿ há»¯u nhiá»u tiá»n hÆ¡n nhá»¯ng gÃ¬ háº¯n Ä‘Ã£ táº¡o ra hoáº·c nháº­n tá»« ngÆ°á»i khÃ¡c.

## 5. Giao Thá»©c KhÃ³a vÃ  Giáº£i PhÃ³ng Tiá»n Äiá»‡n Tá»­ Báº£o Vá»‡ Quyá»n RiÃªng TÆ°

Trong pháº§n nÃ y, chÃºng tÃ´i trÃ¬nh bÃ y chi tiáº¿t vá» giao thá»©c khÃ³a vÃ  giáº£i phÃ³ng tiá»n Ä‘iá»‡n tá»­ báº£o vá»‡ quyá»n riÃªng tÆ°. ChÃºng tÃ´i giáº£ Ä‘á»‹nh ráº±ng **Pa** muá»‘n táº¡o ra **va** bitcoins Ä‘Æ°á»£c Ã¡nh xáº¡ vÃ  Ä‘á»•i láº¡i **vb** ethers Ä‘Æ°á»£c Ã¡nh xáº¡. ChÃºng tÃ´i sá»­ dá»¥ng **chain relays** Ä‘á»ƒ cho phÃ©p **SCt** xÃ¡c minh ráº±ng cÃ¡c hÃ nh vi Ä‘Ãºng Ä‘áº¯n Ä‘Ã£ diá»…n ra trÃªn cÃ¡c blockchain nguá»“n. **Chain relays** cung cáº¥p dá»¯ liá»‡u blockchain bÃªn ngoÃ i, cháº³ng háº¡n nhÆ° cÃ¡c giao dá»‹ch trÃªn cÃ¡c blockchain nguá»“n, cho há»£p Ä‘á»“ng thÃ´ng minh **SCr** trÃªn blockchain giao dá»‹ch. Do Ä‘Ã³, **SCt** cÃ³ thá»ƒ theo dÃµi má»i hÃ nh Ä‘á»™ng cá»§a má»i ngÆ°á»i tham gia trÃªn cÃ¡c blockchain khÃ¡c nhau. Giao thá»©c bao gá»“m hai pha: **pha khÃ³a (lock phase)** vÃ  **pha giáº£i phÃ³ng (release phase)**.

**HÃ¬nh 2. Giao thá»©c khÃ³a tiá»n Ä‘iá»‡n tá»­ báº£o vá»‡ quyá»n riÃªng tÆ°**

### 5.1. Pha KhÃ³a

Pha khÃ³a bao gá»“m hai giao thá»©c: **giao thá»©c khÃ³a tiá»n Ä‘iá»‡n tá»­ báº£o vá»‡ quyá»n riÃªng tÆ°** vÃ  **giao thá»©c tranh cháº¥p**. Trong pha nÃ y, **Pa** chá»n má»™t **trung gian I1** Ä‘á»ƒ khÃ³a **va** bitcoins. Sau Ä‘Ã³, **I1** gá»­i cÃ¡c giao dá»‹ch khÃ³a Ä‘áº¿n **SCt** Ä‘á»ƒ táº¡o ra cÃ¡c Ä‘á»“ng tiá»n Ä‘Æ°á»£c Ã¡nh xáº¡. Náº¿u **I1** khÃ´ng thá»±c hiá»‡n giao dá»‹ch nhÆ° Ä‘Ã£ thá»a thuáº­n vá»›i **Pa**, thÃ¬ **Pa** cÃ³ thá»ƒ sá»­ dá»¥ng **giao thá»©c tranh cháº¥p** Ä‘á»ƒ cung cáº¥p báº±ng chá»©ng vÃ  nháº­n Ä‘Æ°á»£c bá»“i thÆ°á»ng.

TrÆ°á»›c khi **Pa** thá»±c hiá»‡n giao dá»‹ch khÃ³a, **I1** cáº§n gá»­i cá»c vá»›i sá»‘ tiá»n:

\[
vd = \text{rate}_{TB S1} \times va \times \alpha
\]

Trong Ä‘Ã³, **Î±** lÃ  tá»· lá»‡ cá»c bá»• sung, nháº±m ngÄƒn ngá»«a máº¥t mÃ¡t tÃ i chÃ­nh trong trÆ°á»ng há»£p tá»· giÃ¡ trao Ä‘á»•i giá»¯a báº£ng giao dá»‹ch (transaction blockchain) vÃ  báº£ng nguá»“n (source blockchain) biáº¿n Ä‘á»™ng máº¡nh. NgoÃ i ra, chÃºng tÃ´i Ä‘á»‹nh nghÄ©a má»™t thá»i gian trá»… giao dá»‹ch tá»‘i Ä‘a:

\[
\Delta tx = \Delta S1 + \Delta relay + \Delta TB
\]

Äá»ƒ ngÄƒn cáº£n **cá»c cá»§a trung gian** bá»‹ khÃ³a quÃ¡ lÃ¢u, trong Ä‘Ã³:
- **Î”S1** lÃ  thá»i gian trá»… trong viá»‡c thá»±c hiá»‡n má»™t giao dá»‹ch chuyá»ƒn.
- **Î”relay** lÃ  thá»i gian trá»… giá»¯a viá»‡c táº¡o ra má»™t khá»‘i.
- **Î”TB** lÃ  thá»i gian trá»… trong viá»‡c xÃ¡c nháº­n giao dá»‹ch trÃªn báº£ng nguá»“n vÃ  báº£ng giao dá»‹ch tÆ°Æ¡ng á»©ng.

## Káº¿t Luáº­n

Pháº§n nÃ y Ä‘Ã£ trÃ¬nh bÃ y cÃ¡c má»¥c tiÃªu báº£o máº­t cá»§a há»‡ thá»‘ng, bao gá»“m khÃ´ng kháº£ dá»¥ng phÃ¢n biá»‡t sá»• cÃ¡i, khÃ´ng biáº¿n Ä‘á»•i giao dá»‹ch vÃ  báº£o vá»‡ sá»‘ dÆ°. Äá»“ng thá»i, chÃºng tÃ´i cÅ©ng Ä‘Ã£ giá»›i thiá»‡u chi tiáº¿t vá» **giao thá»©c khÃ³a tiá»n Ä‘iá»‡n tá»­ báº£o vá»‡ quyá»n riÃªng tÆ°**, bao gá»“m cÃ¡c bÆ°á»›c thá»±c hiá»‡n vÃ  cÃ¡c biá»‡n phÃ¡p báº£o máº­t nháº±m Ä‘áº£m báº£o an toÃ n vÃ  báº£o máº­t cho cÃ¡c giao dá»‹ch giá»¯a cÃ¡c blockchain khÃ¡c nhau.

Náº¿u báº¡n cáº§n thÃªm thÃ´ng tin hoáº·c giáº£i thÃ­ch chi tiáº¿t hÆ¡n vá» báº¥t ká»³ pháº§n nÃ o, hÃ£y cho tÃ´i biáº¿t!


# Giáº£i ThÃ­ch CÃ¡c Má»¥c TiÃªu Báº£o Máº­t vÃ  Giao Thá»©c KhÃ³a vÃ  Giáº£i PhÃ³ng Tiá»n Äiá»‡n Tá»­ Báº£o Vá»‡ Quyá»n RiÃªng TÆ°

## 4.3. MÃ´ HÃ¬nh Báº£o Máº­t (tiáº¿p tá»¥c)

### CÃ¡c Má»¥c TiÃªu Báº£o Máº­t

- **KhÃ´ng kháº£ dá»¥ng phÃ¢n biá»‡t sá»• cÃ¡i (Ledger Indistinguishability):**
  - Má»™t káº» Ä‘á»‹ch bá»‹ giá»›i háº¡n khÃ´ng thá»ƒ thu tháº­p thÃªm thÃ´ng tin tá»« sá»• cÃ¡i ngoÃ i nhá»¯ng gÃ¬ Ä‘Ã£ Ä‘Æ°á»£c cÃ´ng khai, ngay cáº£ khi háº¯n cÃ³ thá»ƒ quan sÃ¡t táº¥t cáº£ thÃ´ng tin cÃ´ng khai vÃ  tÆ°Æ¡ng tÃ¡c vá»›i cÃ¡c bÃªn trung thá»±c.
  
- **KhÃ´ng biáº¿n Ä‘á»•i giao dá»‹ch (Transaction Non-malleability):**
  - Dá»¯ liá»‡u giao dá»‹ch khÃ´ng thá»ƒ bá»‹ káº» Ä‘á»‹ch bá»‹ giá»›i háº¡n sá»­a Ä‘á»•i.
  
- **Sá»‘ dÆ° (Balance):**
  - Má»™t káº» Ä‘á»‹ch bá»‹ giá»›i háº¡n khÃ´ng thá»ƒ sá»Ÿ há»¯u nhiá»u tiá»n hÆ¡n nhá»¯ng gÃ¬ háº¯n Ä‘Ã£ táº¡o ra hoáº·c nháº­n tá»« ngÆ°á»i khÃ¡c.

## 5. Giao Thá»©c KhÃ³a vÃ  Giáº£i PhÃ³ng Tiá»n Äiá»‡n Tá»­ Báº£o Vá»‡ Quyá»n RiÃªng TÆ°

Trong pháº§n nÃ y, chÃºng tÃ´i trÃ¬nh bÃ y chi tiáº¿t vá» **giao thá»©c khÃ³a vÃ  giáº£i phÃ³ng tiá»n Ä‘iá»‡n tá»­ báº£o vá»‡ quyá»n riÃªng tÆ°**. ChÃºng tÃ´i giáº£ Ä‘á»‹nh ráº±ng **Pa** muá»‘n táº¡o ra **va** bitcoins Ä‘Æ°á»£c Ã¡nh xáº¡ vÃ  Ä‘á»•i láº¡i **vb** ethers Ä‘Æ°á»£c Ã¡nh xáº¡. ChÃºng tÃ´i sá»­ dá»¥ng **chain relays** Ä‘á»ƒ cho phÃ©p **SCt** xÃ¡c minh ráº±ng cÃ¡c hÃ nh vi Ä‘Ãºng Ä‘áº¯n Ä‘Ã£ diá»…n ra trÃªn cÃ¡c blockchain nguá»“n. **Chain relays** cung cáº¥p dá»¯ liá»‡u blockchain bÃªn ngoÃ i, cháº³ng háº¡n nhÆ° cÃ¡c giao dá»‹ch trÃªn cÃ¡c blockchain nguá»“n, cho há»£p Ä‘á»“ng thÃ´ng minh **SCr** trÃªn blockchain giao dá»‹ch. Do Ä‘Ã³, **SCt** cÃ³ thá»ƒ theo dÃµi má»i hÃ nh Ä‘á»™ng cá»§a má»i ngÆ°á»i tham gia trÃªn cÃ¡c blockchain khÃ¡c nhau. Giao thá»©c bao gá»“m hai pha: **pha khÃ³a (lock phase)** vÃ  **pha giáº£i phÃ³ng (release phase)**.

**HÃ¬nh 2. Giao thá»©c khÃ³a tiá»n Ä‘iá»‡n tá»­ báº£o vá»‡ quyá»n riÃªng tÆ°**

### 5.1. Pha KhÃ³a

**Pha khÃ³a** bao gá»“m hai giao thá»©c: **giao thá»©c khÃ³a tiá»n Ä‘iá»‡n tá»­ báº£o vá»‡ quyá»n riÃªng tÆ°** vÃ  **giao thá»©c tranh cháº¥p**. Trong pha nÃ y, **Pa** chá»n má»™t **trung gian I1** Ä‘á»ƒ khÃ³a **va** bitcoins. Sau Ä‘Ã³, **I1** gá»­i cÃ¡c giao dá»‹ch khÃ³a Ä‘áº¿n **SCt** Ä‘á»ƒ táº¡o ra cÃ¡c Ä‘á»“ng tiá»n Ä‘Æ°á»£c Ã¡nh xáº¡. Náº¿u **I1** khÃ´ng thá»±c hiá»‡n giao dá»‹ch nhÆ° Ä‘Ã£ thá»a thuáº­n vá»›i **Pa**, thÃ¬ **Pa** cÃ³ thá»ƒ sá»­ dá»¥ng **giao thá»©c tranh cháº¥p** Ä‘á»ƒ cung cáº¥p báº±ng chá»©ng vÃ  nháº­n Ä‘Æ°á»£c bá»“i thÆ°á»ng.

TrÆ°á»›c khi **Pa** thá»±c hiá»‡n giao dá»‹ch khÃ³a, **I1** cáº§n gá»­i cá»c vá»›i sá»‘ tiá»n:

\[
vd = \text{rate}_{TB S1} \times va \times \alpha
\]

Trong Ä‘Ã³, **Î±** lÃ  tá»· lá»‡ cá»c bá»• sung, nháº±m ngÄƒn ngá»«a máº¥t mÃ¡t tÃ i chÃ­nh trong trÆ°á»ng há»£p tá»· giÃ¡ trao Ä‘á»•i giá»¯a báº£ng giao dá»‹ch (transaction blockchain) vÃ  báº£ng nguá»“n (source blockchain) biáº¿n Ä‘á»™ng máº¡nh. NgoÃ i ra, chÃºng tÃ´i Ä‘á»‹nh nghÄ©a má»™t thá»i gian trá»… giao dá»‹ch tá»‘i Ä‘a:

\[
\Delta tx = \Delta S1 + \Delta relay + \Delta TB
\]

Äá»ƒ ngÄƒn cáº£n **cá»c cá»§a trung gian** bá»‹ khÃ³a quÃ¡ lÃ¢u, trong Ä‘Ã³:
- **Î”S1** lÃ  thá»i gian trá»… trong viá»‡c thá»±c hiá»‡n má»™t giao dá»‹ch chuyá»ƒn.
- **Î”relay** lÃ  thá»i gian trá»… giá»¯a viá»‡c táº¡o ra má»™t khá»‘i.
- **Î”TB** lÃ  thá»i gian trá»… trong viá»‡c xÃ¡c nháº­n giao dá»‹ch trÃªn báº£ng nguá»“n vÃ  báº£ng giao dá»‹ch tÆ°Æ¡ng á»©ng.

**HÃ¬nh 3. Giao thá»©c tranh cháº¥p trong pha khÃ³a**

Trong khoáº£ng thá»i gian trá»… tranh cháº¥p **Î”dispute**, ngÆ°á»i gá»­i tiá»n cÃ³ thá»ƒ ná»™p cÃ¡c giao dá»‹ch tranh cháº¥p cho cÃ¡c trÆ°á»ng há»£p há» Ä‘Ã£ chuyá»ƒn sá»‘ tiá»n Ä‘á»“ng Ã½ nhÆ°ng trung gian khÃ´ng cung cáº¥p Ä‘Ãºng thÃ´ng tin giao dá»‹ch khÃ³a. **HÃ¬nh 3** minh há»a quy trÃ¬nh cá»§a **giao thá»©c tranh cháº¥p trong pha khÃ³a**. **Pa** trÆ°á»›c tiÃªn gá»­i **TX XL**, **P S1 pk**, **I S1 pk**, **r1**, **r2**, **r3**, vÃ  báº±ng chá»©ng Merkle bao gá»“m cÃ¡c giao dá»‹ch trÃªn blockchain nguá»“n Ä‘á»ƒ má»Ÿ cÃ¡c cam káº¿t. Sau Ä‘Ã³, **SCt** xÃ¡c minh xem cÃ¡c cam káº¿t cÃ³ Ä‘Ãºng hay khÃ´ng vÃ  yÃªu cáº§u **SCr** xÃ¡c minh báº±ng chá»©ng bao gá»“m giao dá»‹ch. Náº¿u káº¿t quáº£ xÃ¡c minh lÃ  Ä‘Ãºng, **SCt** sáº½ táº¡o ra Ä‘á»“ng tiá»n Ä‘Æ°á»£c Ã¡nh xáº¡ vÃ  **cá»c cá»§a trung gian** sáº½ bá»‹ trá»« má»™t pháº§n Ä‘á»ƒ bá»“i thÆ°á»ng cho ngÆ°á»i gá»­i **Pa**. Khuyáº¿n khÃ­ch cÃ¡c trung gian sá»­ dá»¥ng cÃ¡c Ä‘á»‹a chá»‰ cÃ´ng khai khÃ¡c nhau cho má»—i giao dá»‹ch Ä‘á»ƒ ngÆ°á»i gá»­i cÃ³ thá»ƒ kiá»ƒm tra xem cÃ¡c Ä‘á»‹a chá»‰ nÃ y Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c giao dá»‹ch trÆ°á»›c Ä‘Ã³ hay chÆ°a.

### 5.2. Pha Giáº£i PhÃ³ng

**Giao thá»©c giáº£i phÃ³ng tiá»n Ä‘iá»‡n tá»­ báº£o vá»‡ quyá»n riÃªng tÆ°** Ä‘Æ°á»£c trÃ¬nh bÃ y trong **HÃ¬nh 4**. Äáº§u tiÃªn, **Pa** yÃªu cáº§u má»™t giao dá»‹ch giáº£i phÃ³ng **TX XR = {rtS2, snin, vb, Ï€SP END, Cout S2}** tá»« **SCt**. QuÃ¡ trÃ¬nh xÃ¡c minh cá»§a **TX XR** sáº½ Ä‘Æ°á»£c mÃ´ táº£ trong **sÆ¡ Ä‘á»“ giao dá»‹ch báº£o máº­t tiá»n Ä‘iá»‡n tá»­ Ä‘Æ°á»£c Ã¡nh xáº¡ (MCCT)** á»Ÿ pháº§n tiáº¿p theo. Sau khi **SCt** xÃ¡c minh **TX XR**, **I1** gá»­i Ä‘á»‹a chá»‰ **I S2 pk** Ä‘Æ°á»£c sá»­ dá»¥ng trong giao dá»‹ch giáº£i phÃ³ng vÃ  tá»•ng giÃ¡ trá»‹ giao dá»‹ch **vt = va âˆ’ vf** Ä‘áº¿n **Pa**. 

Sau Ä‘Ã³, **Pa** chá»n cÃ¡c sá»‘ ngáº«u nhiÃªn **r1**, **r2**, **r3**, vÃ  Ä‘á»‹a chá»‰ **P S2 pk** Ä‘Æ°á»£c sá»­ dá»¥ng trong giao dá»‹ch giáº£i phÃ³ng Ä‘á»ƒ gá»­i Ä‘áº¿n **I1**. Tiáº¿p theo, **I1** tÃ­nh toÃ¡n cÃ¡c cam káº¿t cá»§a táº¥t cáº£ cÃ¡c Ä‘á»‹a chá»‰ tham gia trong giao dá»‹ch giáº£i phÃ³ng vÃ  tá»•ng giÃ¡ trá»‹ giao dá»‹ch nhÆ° sau:

\[
com1 = \text{COMr1}(P S2 pk), \quad com2 = \text{COMr2}(I S2 pk), \quad com3 = \text{COMr3}(vt)
\]

**I1** gá»­i cá»c **vd = \text{rate}_{TB S2} \times vb \times \alpha** vÃ  cÃ¡c cam káº¿t Ä‘áº¿n **SCt**. Sau khi **SCt** xÃ¡c minh cá»c vÃ  cÃ¡c cam káº¿t, **I1** chuyá»ƒn **vt** coins Ä‘áº¿n **Pa** trÃªn blockchain nguá»“n trong khoáº£ng thá»i gian trá»… tá»‘i Ä‘a **Î”tx**. Cuá»‘i cÃ¹ng, **I1** gá»­i káº¿t quáº£ giao dá»‹ch Ä‘áº¿n **SCt**. Sau khi **I1** hoÃ n táº¥t giao dá»‹ch giáº£i phÃ³ng thÃ nh cÃ´ng, **I1** cÃ³ thá»ƒ rÃºt **collatera**.

*(ChÃº Ã½: Äoáº¡n vÄƒn báº£n Ä‘Æ°á»£c cung cáº¥p bá»‹ cáº¯t ngáº¯n nÃªn pháº§n cuá»‘i khÃ´ng Ä‘áº§y Ä‘á»§.)*

## Káº¿t Luáº­n

Pháº§n nÃ y Ä‘Ã£ trÃ¬nh bÃ y chi tiáº¿t vá» **giao thá»©c khÃ³a vÃ  giáº£i phÃ³ng tiá»n Ä‘iá»‡n tá»­ báº£o vá»‡ quyá»n riÃªng tÆ°**, bao gá»“m cÃ¡c bÆ°á»›c thá»±c hiá»‡n vÃ  cÃ¡c biá»‡n phÃ¡p báº£o máº­t nháº±m Ä‘áº£m báº£o an toÃ n vÃ  báº£o máº­t cho cÃ¡c giao dá»‹ch giá»¯a cÃ¡c blockchain khÃ¡c nhau. CÃ¡c bÆ°á»›c chÃ­nh bao gá»“m:
1. **Pha khÃ³a:** NgÆ°á»i gá»­i chá»n trung gian, táº¡o cam káº¿t, gá»­i giao dá»‹ch khÃ³a, vÃ  xá»­ lÃ½ cÃ¡c cam káº¿t vÃ  báº±ng chá»©ng.
2. **Giao thá»©c tranh cháº¥p:** NgÆ°á»i gá»­i cÃ³ thá»ƒ tranh cháº¥p náº¿u trung gian khÃ´ng thá»±c hiá»‡n Ä‘Ãºng cam káº¿t giao dá»‹ch khÃ³a.
3. **Pha giáº£i phÃ³ng:** NgÆ°á»i gá»­i yÃªu cáº§u giáº£i phÃ³ng tiá»n, trung gian thá»±c hiá»‡n cam káº¿t vÃ  chuyá»ƒn tiá»n sau khi Ä‘Æ°á»£c xÃ¡c minh.

Náº¿u báº¡n cáº§n thÃªm thÃ´ng tin hoáº·c giáº£i thÃ­ch chi tiáº¿t hÆ¡n vá» báº¥t ká»³ pháº§n nÃ o, hÃ£y cho tÃ´i biáº¿t!



# Giáº£i ThÃ­ch SÆ¡ Äá»“ Giao Dá»‹ch Báº£o Máº­t Tiá»n Äiá»‡n Tá»­ ÄÆ°á»£c Ãnh Xáº¡ (MCCT)

## 6. SÆ¡ Äá»“ Giao Dá»‹ch Báº£o Máº­t Tiá»n Äiá»‡n Tá»­ ÄÆ°á»£c Ãnh Xáº¡ (MCCT)

Trong pháº§n nÃ y, chÃºng tÃ´i sáº½ giáº£i thÃ­ch cÃ¡ch thá»©c hoáº¡t Ä‘á»™ng cá»§a **sÆ¡ Ä‘á»“ giao dá»‹ch báº£o máº­t tiá»n Ä‘iá»‡n tá»­ Ä‘Æ°á»£c Ã¡nh xáº¡ (MCCT)**. Sau Ä‘Ã³, chÃºng tÃ´i thiáº¿t káº¿ má»™t **giao thá»©c trao Ä‘á»•i nguyÃªn tá»­** dá»±a trÃªn **MCCT**.

### Thuáº­t ToÃ¡n 1: CÃ¡c Thuáº­t ToÃ¡n ChÃ­nh cá»§a MCCT

```plaintext:algorithms/mcct_algorithm1
Algorithm 1 Main algorithms of MCCT

Setup(Î»):
    Compute (pk, vk) â† zk-SNARK.Setup(1Î», CSP_END);
    Initialize Merkle trees vÃ  bá»™ cam káº¿t CMListS1, CMListS2;
    Set pp â† (pkSP_END, vkSP_END);
    return pp;

KeyGen(pp):
    Randomly sample ask vÃ  p;
    Compute apk = Hashp(ask);
    return apk, ask;

Mint(v, apk, rtS):
    Randomly sample s;
    Compute CS â† Hash(v || apk || s);
    Set TXm := (CS, v, apk, s, rtS);
    return mcS, TXm;

Transfer(rtS, mcinS, vout, aoutpk):
    Parse mcinS as (ainpk, ainsk, pin, vin, sin, Cins);
    Compute sninS := Hash(CS, ask);
    Randomly sample sout;
    Compute mcoutS := Hash(vout, aoutpk, sout);
    Set mcoutS := (aoutpk, aoutsK, pout, vout, sout, CoutS);
    Set sâƒ–âƒ— := (rtS, sninS, CoutS, 0, path(Cins));
    Set wâƒ–âƒ–âƒ— := (Cins, sin, sout, vin, vout, ainpk, ainsk, aoutpk, pin);
    Compute Ï€SP_END := zk-SNARK.Prove(pkSP_END, w, sâƒ–âƒ—);
    Set TXt := (s, Ï€âƒ–âƒ— SP_END);
    return mcoutS, TXt;

Redeem(rtS, mcinS, vout, vpub, aoutpk, I):
    Parse mcinS as (ainpk, ainsk, pin, vin, sin, Cins);
    Compute sninS := Hash(CS, ask);
    Randomly sample sout;
    Compute mcoutS := Hash(vout, aoutpk, sout);
    Set mcoutS := (aoutpk, aoutsK, pout, vout, sout, CoutS);
    Set sâƒ–âƒ— := (rtS, sninS, CoutS, vpub);
    Set wâƒ–âƒ–âƒ— := (Cins, sin, sout, vin, vout, ainpk, ainsk, aoutpk, pin, path(Cins));
    Compute Ï€SP_END := zk-SNARK.Prove(pkSP_END, wâƒ–âƒ–âƒ—, sâƒ–âƒ—);
    Set TXr := (s, Ï€âƒ–âƒ— SP_END, I);
    return mcoutS, TXr;

Exchange(rtS1, rtS2, mcinS1, mcoutS2, voutS1, voutS2, aoutpk,S1, aoutpk,S2):
    For each i âˆˆ {1, 2}
        Parse mcinSi as (ainpk, Si, ainsk, Si, pinSi, vinSi, sinSi, CinsSi);
        Compute sninSi := Hash(CinsSi, aaskSi);
        Randomly sample soutSi;
        Compute mcoutSi := Hash(voutSi, aoutpk, soutSi);
    Set mcoutSi := (aoutpk, Si, aoutsK, Si, poutSi, voutSi, soutSi, CoutSi);
    Set sâƒ–âƒ—i := (rtSi, sninSi, CoutSi);
    Set wâƒ–âƒ–âƒ—i := (CinsSi, sinSi, soutSi, vinSi, voutSi, ainpkSi, ainskSi, aoutpkSi, Si, path(CinsSi));
    Compute Ï€SiSP_END := zk-SNARK.Prove(pkSiSP_END, wâƒ–âƒ–âƒ—i, sâƒ–âƒ—i);
    Set TXe := (sâƒ–âƒ—1, sâƒ–âƒ—2, Ï€S1SP_END, Ï€S2SP_END);
    return mcoutS1, mcoutS2, TXe;
```

### 6.1. Tá»•ng Quan

**MCCT** dá»±a trÃªn **há»£p Ä‘á»“ng thÃ´ng minh giao dá»‹ch (SCt)**. Trong sÆ¡ Ä‘á»“ cá»§a chÃºng tÃ´i, **SCt** bao gá»“m ba loáº¡i há»£p Ä‘á»“ng thÃ´ng minh Ä‘Æ°á»£c triá»ƒn khai trÃªn **blockchain giao dá»‹ch**:

1. **Há»£p Äá»“ng Trung Gian (Intermediary Contract):**
    - Kiá»ƒm soÃ¡t hÃ nh vi cá»§a trung gian, bao gá»“m Ä‘Äƒng kÃ½ vÃ  quáº£n lÃ½ cá»c.

2. **Há»£p Äá»“ng CÃ¢y Merkle (Merkle Tree Contract):**
    - Triá»ƒn khai nhiá»u cÃ¢y Merkle Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ chá»©ng minh sá»± thÃ nh viÃªn cá»§a cÃ¡c cam káº¿t.
    - CÃ¡c loáº¡i cam káº¿t tiá»n Ä‘iá»‡n tá»­ Ä‘Æ°á»£c Ã¡nh xáº¡ khÃ¡c nhau Ä‘Æ°á»£c lÆ°u trá»¯ trong cÃ¡c cÃ¢y Merkle khÃ¡c nhau.

3. **Há»£p Äá»“ng Trá»™n (Mix Contract):**
    - Kiá»ƒm soÃ¡t cÃ¡c giao dá»‹ch mint, transfer vÃ  redeem cho cÃ¡c tiá»n Ä‘iá»‡n tá»­ Ä‘Æ°á»£c Ã¡nh xáº¡.
    - Quáº£n lÃ½ cÃ¡c báº£n ghi cam káº¿t trong cÃ¡c cÃ¢y Merkle, theo dÃµi cÃ¡c sá»‘ seri vÃ  cam káº¿t Ä‘Ã£ khÃ³a, vÃ  xÃ¡c minh cÃ¡c chá»©ng minh zk-SNARK.
    - Äá»‹nh nghÄ©a **SNListS** lÃ  danh sÃ¡ch lÆ°u trá»¯ cÃ¡c sá»‘ seri Ä‘Ã£ sá»­ dá»¥ng tá»« **blockchain nguá»“n S**, vÃ  **LockCMListS** lÃ  danh sÃ¡ch lÆ°u trá»¯ cÃ¡c cam káº¿t Ä‘Ã£ khÃ³a tá»« **blockchain nguá»“n S**.

## 7. Káº¿t Luáº­n

Pháº§n nÃ y Ä‘Ã£ trÃ¬nh bÃ y chi tiáº¿t vá» **sÆ¡ Ä‘á»“ giao dá»‹ch báº£o máº­t tiá»n Ä‘iá»‡n tá»­ Ä‘Æ°á»£c Ã¡nh xáº¡ (MCCT)**, bao gá»“m cÃ¡c thuáº­t toÃ¡n chÃ­nh nhÆ° **Setup**, **KeyGen**, **Mint**, **Transfer**, **Redeem**, vÃ  **Exchange**. **MCCT** Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn ná»n táº£ng há»£p Ä‘á»“ng thÃ´ng minh giao dá»‹ch **SCt**, bao gá»“m cÃ¡c há»£p Ä‘á»“ng trung gian, cÃ¢y Merkle, vÃ  há»£p Ä‘á»“ng trá»™n Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh báº£o máº­t vÃ  riÃªng tÆ° trong cÃ¡c giao dá»‹ch tiá»n Ä‘iá»‡n tá»­ giá»¯a cÃ¡c blockchain khÃ¡c nhau.

Náº¿u báº¡n cáº§n thÃªm thÃ´ng tin hoáº·c giáº£i thÃ­ch chi tiáº¿t hÆ¡n vá» báº¥t ká»³ pháº§n nÃ o, hÃ£y cho tÃ´i biáº¿t!

# Giáº£i ThÃ­ch Thuáº­t ToÃ¡n trong SÆ¡ Äá»“ Giao Dá»‹ch Báº£o Máº­t Tiá»n Äiá»‡n Tá»­ ÄÆ°á»£c Ãnh Xáº¡ (MCCT)

# Giáº£i ThÃ­ch Thuáº­t ToÃ¡n trong SÆ¡ Äá»“ Giao Dá»‹ch Báº£o Máº­t Tiá»n Äiá»‡n Tá»­ ÄÆ°á»£c Ãnh Xáº¡ (MCCT)

## 6.2. Thuáº­t ToÃ¡n

SÆ¡ Ä‘á»“ MCCT bao gá»“m cÃ¡c thuáº­t toÃ¡n thá»i gian Ä‘a thá»©c sau Ä‘Ã¢y, vÃ  mÃ´ táº£ chÃ­nh thá»©c Ä‘Æ°á»£c cung cáº¥p trong **Thuáº­t toÃ¡n 1** vÃ  **Thuáº­t toÃ¡n 2**.

### Thuáº­t ToÃ¡n 1: CÃ¡c Thuáº­t ToÃ¡n ChÃ­nh cá»§a MCCT

```plaintext:algorithms/mcct_algorithm1
Algorithm 1 Main algorithms of MCCT

Setup(Î») â†’ pp:
    Compute (pk, vk) â† zk-SNARK.Setup(1Î», CSP_END);
    Initialize Merkle trees vÃ  bá»™ cam káº¿t CMListS1, CMListS2;
    Set pp â† (pkSP_END, vkSP_END);
    return pp;

KeyGen(pp) â†’ (apk, ask):
    Randomly sample ask vÃ  p;
    Compute apk = Hashp(ask);
    return apk, ask;

Mint(v, apk, rtS) â†’ (mcS, TXm):
    Randomly sample s;
    Compute CS â† Hash(v || apk || s);
    Set TXm := (CS, v, apk, s, rtS);
    return mcS, TXm;

Transfer(rtS, mcinS, vout, aoutpk) â†’ (mcoutS, TXt):
    Parse mcinS as (ainpk, ainsk, pin, vin, sin, Cins);
    Compute sninS := Hash(CS, ask);
    Randomly sample sout;
    Compute mcoutS := Hash(vout, aoutpk, sout);
    Set mcoutS := (aoutpk, aoutsK, pout, vout, sout, CoutS);
    Set sâƒ–âƒ— := (rtS, sninS, CoutS, 0, path(Cins));
    Set wâƒ–âƒ–âƒ— := (Cins, sin, sout, vin, vout, ainpk, ainsk, aoutpk, pin);
    Compute Ï€SP_END := zk-SNARK.Prove(pkSP_END, w, sâƒ–âƒ—);
    Set TXt := (s, Ï€âƒ–âƒ— SP_END);
    return mcoutS, TXt;

Redeem(rtS, mcinS, vout, vpub, aoutpk, I) â†’ (mcoutS, TXr):
    Parse mcinS as (ainpk, ainsk, pin, vin, sin, Cins);
    Compute sninS := Hash(CS, ask);
    Randomly sample sout;
    Compute mcoutS := Hash(vout, aoutpk, sout);
    Set mcoutS := (aoutpk, aoutsK, pout, vout, sout, CoutS);
    Set sâƒ–âƒ— := (rtS, sninS, CoutS, vpub);
    Set wâƒ–âƒ–âƒ— := (Cins, sin, sout, vin, vout, ainpk, ainsk, aoutpk, pin, path(Cins));
    Compute Ï€SP_END := zk-SNARK.Prove(pkSP_END, wâƒ–âƒ–âƒ—, sâƒ–âƒ—);
    Set TXr := (s, Ï€âƒ–âƒ— SP_END, I);
    return mcoutS, TXr;

Exchange(rtS1, rtS2, mcinS1, mcoutS2, voutS1, voutS2, aoutpk,S1, aoutpk,S2) â†’ (mcoutS1, mcoutS2, TXe):
    For each i âˆˆ {1, 2}
        Parse mcinSi as (ainpk, Si, ainsk, Si, pinSi, vinSi, sinSi, CinsSi);
        Compute sninSi := Hash(CinsSi, aaskSi);
        Randomly sample soutSi;
        Compute mcoutSi := Hash(voutSi, aoutpk, soutSi);
    Set mcoutSi := (aoutpk, Si, aoutsK, Si, poutSi, voutSi, soutSi, CoutSi);
    Set sâƒ–âƒ—i := (rtSi, sninSi, CoutSi);
    Set wâƒ–âƒ–âƒ—i := (CinsSi, sinSi, soutSi, vinSi, voutSi, ainpkSi, ainskSi, aoutpkSi, Si, path(CinsSi));
    Compute Ï€SiSP_END := zk-SNARK.Prove(pkSiSP_END, wâƒ–âƒ–âƒ—i, sâƒ–âƒ—i);
    Set TXe := (sâƒ–âƒ—1, sâƒ–âƒ—2, Ï€S1SP_END, Ï€S2SP_END);
    return mcoutS1, mcoutS2, TXe;
```

### Thuáº­t ToÃ¡n 2: XÃ¡c Minh Giao Dá»‹ch (VerifyTransaction)

```plaintext:algorithms/mcct_algorithm2
Algorithm 2 VerifyTransaction(T_X, L) â†’ 1âˆ•0
    if T_X = T_Xm then
        Parse T_X as (CS, v, apk, s, rtS);
        Set b â† 1 náº¿u CS = Hash(v || apk || s), ngÆ°á»£c láº¡i b â† 0;
    else if T_X = T_Xt hoáº·c T_X = T_Xr then
        Parse T_X nhÆ° (rtS, snin, CoutS, vpup, Ï€SP_END);
        Set b â† 0 náº¿u snin Ä‘Ã£ Ä‘Æ°á»£c lÆ°u trá»¯ trong L;
        Set b â† 0 náº¿u CoutS Ä‘Ã£ Ä‘Æ°á»£c lÆ°u trá»¯ trong LockCMListS;
        Set b â† 0 náº¿u rtS khÃ´ng cÃ³ trong L;
        Set sâƒ–âƒ— := (rtS, snin, CoutS, vpup);
        Compute b â† (b âˆ§ zk-SNARK.Verify(vkSP_END, sâƒ–âƒ—, Ï€SP_END));
    else if T_X = T_Xe then
        Parse T_X nhÆ° (rtS1, rtS2, sninS1, sninS2, CoutS1, CoutS2, Ï€S1SP_END, Ï€S2SP_END);
        Set b â† 0 náº¿u sninS1 hoáº·c sninS2 Ä‘Ã£ Ä‘Æ°á»£c lÆ°u trá»¯ trong L;
        Set b â† 0 náº¿u CoutS1 hoáº·c CoutS2 Ä‘Ã£ Ä‘Æ°á»£c lÆ°u trá»¯ trong LockCMListS;
        Set b â† 0 náº¿u rtS1 hoáº·c rtS2 khÃ´ng cÃ³ trong L;
        Set sâƒ–âƒ—1 := (rtS1, sninS1, CoutS1, 0);
        Set sâƒ–âƒ—2 := (rtS2, sninS2, CoutS2, 0);
        Compute b â† (b âˆ§ zk-SNARK.Verify(vkSP_END, sâƒ–âƒ—1, Ï€S1SP_END));
        Compute b â† (b âˆ§ zk-SNARK.Verify(vkSP_END, sâƒ–âƒ—2, Ï€S2SP_END));
    end if
    return b
```

### Thuáº­t ToÃ¡n 3: ThÃ­ Nghiá»‡m

```plaintext:algorithms/mcct_algorithm3
Algorithm 3 Experiments

L-IND(Î»):
    pp â† Setup(Î»)
    (L0, L1) â† A MCCT0, MCCT1 (pp)
    randomly sample b â† {0, 1}
    Q â† {KeyGen, Mint, Transfer, Insert}
    ans(ab, a1âˆ’b) â† QueryLb (Q)
    bâ€² â† A MCCT0, MCCT1 (L0, L1, ans)
    return b = bâ€²

TR-NM(Î»):
    pp â† Setup(Î»)
    L â† A MCCT (pp)
    TXâ€² â† A MCCT (L)
    bâ€² â† VerifyTransaction(TXâ€², Lâ€²) âˆ§ (TX âˆ‰ Lâ€²)
    return b âˆ§ (âˆƒ TX âˆˆ L : (TX â‰  TXâ€²) âˆ§ (TX.s_n = TXâ€².s_n))

BAL(Î»):
    pp â† Setup(Î»)
    L â† A MCCT (pp)
    (CMLListS, vS_Mint, vS_Reci, vS_Send) â† A MCCT (L)
    (vS_Unspent, vS_Pub) â† Compute(L, CMLListS)
    If vS_Unspent + vS_Pub + vS_Send > vS_Mint + vS_Reci Then
        return 1
    Else return 0
```

### 6.3. Giao Thá»©c Trao Äá»•i NguyÃªn Tá»­ Tiá»n Äiá»‡n Tá»­ ÄÆ°á»£c Ãnh Xáº¡

Äá»ƒ thuáº­n tiá»‡n cho viá»‡c minh há»a, chÃºng tÃ´i giáº£ Ä‘á»‹nh ráº±ng **Pa** muá»‘n trao Ä‘á»•i **va** bitcoins Ä‘Æ°á»£c Ã¡nh xáº¡ láº¥y **vb** ethers Ä‘Æ°á»£c Ã¡nh xáº¡ vá»›i **Pb**. 

**HÃ¬nh 6. Giao thá»©c trao Ä‘á»•i nguyÃªn tá»­ tiá»n Ä‘iá»‡n tá»­ Ä‘Æ°á»£c Ã¡nh xáº¡**

*(ChÃº Ã½: HÃ¬nh 6 Ä‘Æ°á»£c Ä‘á» cáº­p nhÆ°ng ná»™i dung hÃ¬nh áº£nh khÃ´ng Ä‘Æ°á»£c cung cáº¥p trong vÄƒn báº£n.)*

## 7. PhÃ¢n TÃ­ch Báº£o Máº­t

PhÃ¢n tÃ­ch cÃ¡c Ä‘áº·c tÃ­nh báº£o máº­t cá»§a sÆ¡ Ä‘á»“ chÃºng tÃ´i Ä‘Æ°á»£c trÃ¬nh bÃ y trong pháº§n nÃ y, bao gá»“m: khÃ´ng phÃ¢n biá»‡t giao dá»‹ch, áº©n danh, khÃ´ng thá»ƒ táº¡o giáº£, vÃ  cÃ¢n báº±ng.

### Äá»‹nh LÃ½ 1. (KhÃ´ng PhÃ¢n Biá»‡t Giao Dá»‹ch)

Dá»±a trÃªn tÃ­nh áº©n hoÃ n háº£o cá»§a sÆ¡ Ä‘á»“ cam káº¿t Pedersen, sÆ¡ Ä‘á»“ Ä‘á» xuáº¥t cá»§a chÃºng tÃ´i thá»a mÃ£n Ä‘áº·c tÃ­nh khÃ´ng phÃ¢n biá»‡t giao dá»‹ch.

**Chá»©ng Minh:**

Trong pha KhÃ³a vÃ  pha Giáº£i PhÃ³ng, táº­p Ä‘á»‹a chá»‰ cÃ´ng khai {PSpk,1, PSpk,2, ..., PSpk,n, ISpk,1, ISpk,2, ..., ISpk,m} cá»§a ngÆ°á»i gá»­i vÃ  trung gian vÃ  tá»•ng giÃ¡ trá»‹ cá»§a cÃ¡c giao dá»‹ch lÃ  khÃ´ng xÃ¡c Ä‘á»‹nh Ä‘á»‘i vá»›i cÃ¡c ngÆ°á»i tham gia khÃ¡c. Chá»‰ cÃ³ cÃ¡c cam káº¿t Ä‘Æ°á»£c cÃ´ng khai ná»™p cho há»£p Ä‘á»“ng giao dá»‹ch. CÃ¡c cam káº¿t cá»§a Ä‘á»‹a chá»‰ cÃ´ng khai vÃ  tá»•ng giÃ¡ trá»‹ cá»§a cÃ¡c giao dá»‹ch Ä‘Æ°á»£c tÃ­nh nhÆ° sau:

- comi = COMri(PSpk,i) = g PSpk,i^h_r,
- comj = COMrj(ISpk,j) = g PSpk,j^h_rj,
- comv = COMrv(vt) = g vth_rv.

VÃ¬ comi, comj vÃ  comv lÃ  cam káº¿t Pedersen, dá»±a trÃªn tÃ­nh áº©n hoÃ n háº£o cá»§a giao thá»©c cam káº¿t Pedersen, Ä‘á»‹a chá»‰ cÃ´ng khai cá»§a ngÆ°á»i gá»­i vÃ  trung gian khÃ´ng thá»ƒ phÃ¢n biá»‡t tá»« cÃ¡c Ä‘á»‹a chá»‰ cÃ´ng khai khÃ¡c trong blockchain nguá»“n, vÃ  tá»•ng giÃ¡ trá»‹ cá»§a cÃ¡c giao dá»‹ch Ä‘Æ°á»£c áº©n hoÃ n háº£o. Do Ä‘Ã³, Ä‘áº·c tÃ­nh khÃ´ng phÃ¢n biá»‡t giao dá»‹ch Ä‘Æ°á»£c thá»a mÃ£n.

### Thuáº­t ToÃ¡n 3: ThÃ­ Nghiá»‡m

```plaintext:algorithms/mcct_algorithm3
Algorithm 3 Experiments

L-IND(Î»):
    pp â† Setup(Î»)
    (L0, L1) â† A MCCT0, MCCT1 (pp)
    randomly sample b â† {0, 1}
    Q â† {KeyGen, Mint, Transfer, Insert}
    ans(ab, a1âˆ’b) â† QueryLb (Q)
    bâ€² â† A MCCT0, MCCT1 (L0, L1, ans)
    return b = bâ€²

TR-NM(Î»):
    pp â† Setup(Î»)
    L â† A MCCT (pp)
    TXâ€² â† A MCCT (L)
    bâ€² â† VerifyTransaction(TXâ€², Lâ€²) âˆ§ (TX âˆ‰ Lâ€²)
    return b âˆ§ (âˆƒ TX âˆˆ L : (TX â‰  TXâ€²) âˆ§ (TX.s_n = TXâ€².s_n))

BAL(Î»):
    pp â† Setup(Î»)
    L â† A MCCT (pp)
    (CMLListS, vS_Mint, vS_Reci, vS_Send) â† A MCCT (L)
    (vS_Unspent, vS_Pub) â† Compute(L, CMLListS)
    If vS_Unspent + vS_Pub + vS_Send > vS_Mint + vS_Reci Then
        return 1
    Else return 0
```

## 7. Káº¿t Luáº­n

Pháº§n nÃ y Ä‘Ã£ trÃ¬nh bÃ y chi tiáº¿t vá» **sÆ¡ Ä‘á»“ giao dá»‹ch báº£o máº­t tiá»n Ä‘iá»‡n tá»­ Ä‘Æ°á»£c Ã¡nh xáº¡ (MCCT)**, bao gá»“m cÃ¡c thuáº­t toÃ¡n chÃ­nh nhÆ° **Setup**, **KeyGen**, **Mint**, **Transfer**, **Redeem**, vÃ  **Exchange**. **MCCT** Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn ná»n táº£ng há»£p Ä‘á»“ng thÃ´ng minh giao dá»‹ch **SCt**, bao gá»“m cÃ¡c há»£p Ä‘á»“ng trung gian, cÃ¢y Merkle, vÃ  há»£p Ä‘á»“ng trá»™n Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh báº£o máº­t vÃ  riÃªng tÆ° trong cÃ¡c giao dá»‹ch tiá»n Ä‘iá»‡n tá»­ giá»¯a cÃ¡c blockchain khÃ¡c nhau.

Náº¿u báº¡n cáº§n thÃªm thÃ´ng tin hoáº·c giáº£i thÃ­ch chi tiáº¿t hÆ¡n vá» báº¥t ká»³ pháº§n nÃ o, hÃ£y cho tÃ´i biáº¿t!

# Äá»‹nh LÃ½ 2 vÃ  PhÃ¢n TÃ­ch Báº£o Máº­t trong SÆ¡ Äá»“ Giao Dá»‹ch Báº£o Máº­t Tiá»n Äiá»‡n Tá»­ ÄÆ°á»£c Ãnh Xáº¡ (MCCT)

## Äá»‹nh LÃ½ 2

**Äá»‹nh LÃ½ 2.** Bá»™ ba \( \Pi = (Setup, KeyGen, Mint, Transfer, Redeem, Exchange) \) lÃ  má»™t sÆ¡ Ä‘á»“ MCCT. \( \Pi \) an toÃ n náº¿u nÃ³ thá»a mÃ£n cÃ¡c Ä‘áº·c tÃ­nh khÃ´ng phÃ¢n biá»‡t sá»• cÃ¡i, khÃ´ng liÃªn káº¿t giao dá»‹ch, khÃ´ng thá»ƒ biáº¿n Ä‘á»•i giao dá»‹ch, vÃ  cÃ¢n báº±ng nhÆ° Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a dÆ°á»›i Ä‘Ã¢y.

## Chá»©ng Minh

Äáº§u tiÃªn, chÃºng ta giáº£ sá»­ ráº±ng tá»“n táº¡i má»™t oracle MCCT \( \mathcal{O}_{MCCT} \) tráº£ lá»i cÃ¡c truy váº¥n tá»« má»™t káº» Ä‘á»‹ch \( \mathcal{A} \) vÃ  má»™t ngÆ°á»i thÃ¡ch Ä‘áº¥u \( \mathcal{C} \) thá»±c hiá»‡n cÃ¡c kiá»ƒm tra há»£p lÃ½ cá»¥ thá»ƒ cho thÃ­ nghiá»‡m. Äáº§u tiÃªn, chÃºng ta trÃ¬nh bÃ y cÃ¡ch thá»©c hoáº¡t Ä‘á»™ng cá»§a \( \mathcal{O}_{MCCT} \). Oracle \( \mathcal{O}_{MCCT} \) lÆ°u trá»¯:

1. **[I]** \( L \), má»™t sá»• cÃ¡i;
2. **[II]** \( ADDR \), má»™t táº­p há»£p cÃ¡c cáº·p khÃ³a Ä‘á»‹a chá»‰;
3. **[III]** \( MCS \), má»™t táº­p há»£p cÃ¡c Ä‘á»“ng tiá»n Ä‘Æ°á»£c Ã¡nh xáº¡ há»— trá»£ bá»Ÿi blockchain nguá»“n \( S \).

YÃªu cáº§u Ä‘Æ°á»£c giá»›i háº¡n trong \( Q = \{KeyGen, Mint, Transfer, Insert\} \). Má»—i loáº¡i truy váº¥n \( Q \) Ä‘Æ°á»£c mÃ´ táº£ nhÆ° sau:

### Truy Váº¥n KeyGen

```plaintext:algorithms/mcct_algorithm2
Q(KeyGen, pp) :
1. Compute \( (apk, ask) = KeyGen(pp) \).
2. Add cáº·p khÃ³a Ä‘á»‹a chá»‰ \( (apk, ask) \) vÃ o \( ADDR \).
3. Output khÃ³a cÃ´ng khai \( apk \).
```

### Truy Váº¥n Mint

```plaintext:algorithms/mcct_algorithm2
Q(Mint, v, apk, rtS) :
1. XÃ¡c minh ráº±ng \( rtS \) lÃ  gá»‘c cá»§a cÃ¢y Merkle lÆ°u trá»¯ cÃ¡c cam káº¿t Ä‘á»“ng tiá»n Ä‘Æ°á»£c há»— trá»£ bá»Ÿi blockchain nguá»“n \( S \).
2. Compute \( (mc, TXm) := Mint(v, apk, rtS) \).
3. ThÃªm \( mc \) vÃ o \( MCS \).
4. ThÃªm giao dá»‹ch mint \( TXm \) vÃ o \( L \).
```

### Truy Váº¥n Transfer

```plaintext:algorithms/mcct_algorithm2
Q(Transfer, S, mc_{in}^S, v_{out}^S, a_{out}^{pk}, S) :
1. Compute \( rtS \) trÃªn táº¥t cáº£ cÃ¡c cam káº¿t Ä‘á»“ng tiá»n Ä‘Æ°á»£c há»— trá»£ bá»Ÿi blockchain nguá»“n \( S \).
2. Compute \( (mcout^S, TXt) = Transfer(rtS, mc_{in}^S, v_{out}^S, a_{out}^{pk}, S) \).
3. XÃ¡c minh ráº±ng \( VerifyTransaction(TXt, L) \) tráº£ vá» 1.
4. ThÃªm \( mcout^S \) vÃ o \( MCS \).
5. ThÃªm giao dá»‹ch transfer \( TXt \) vÃ o \( L \).
```

### Truy Váº¥n Insert

```plaintext:algorithms/mcct_algorithm2
Q(Insert, TX) :
1. XÃ¡c minh ráº±ng \( VerifyTransaction(TX, L) \) tráº£ vá» 1.
2. ThÃªm giao dá»‹ch \( TX \) vÃ o \( L \).
3. Cáº­p nháº­t \( MCS \).
```

Sau Ä‘Ã³, chÃºng ta hÃ¬nh thÃ nh cÃ¡c Ä‘áº·c tÃ­nh báº£o máº­t vá»›i cÃ¡c thÃ­ nghiá»‡m \( L-IND \), \( TR-NM \), vÃ  \( BAL \), Ä‘Æ°á»£c thá»ƒ hiá»‡n trong **Thuáº­t toÃ¡n 3**.

## Äá»‹nh NghÄ©a 1 (KhÃ´ng PhÃ¢n Biá»‡t Sá»• CÃ¡i)

**Äá»‹nh NghÄ©a 1 (Ledger Indistinguishability).** Vá»›i má»i káº» Ä‘á»‹ch PPT \( \mathcal{A} \) vÃ  \( \lambda \) Ä‘á»§ lá»›n, chÃºng ta nÃ³i ráº±ng má»™t sÆ¡ Ä‘á»“ MCCT \( \Pi \) lÃ  an toÃ n theo \( L-IND \) náº¿u phÆ°Æ¡ng trÃ¬nh sau Ä‘Æ°á»£c thá»a mÃ£n:

\[
\Pr[MCCT\text{-}IND_{\Pi, \mathcal{A}}(\lambda) = 1] \leq \frac{1}{2} + \text{negl}(\lambda)
\]

## Chá»©ng Minh KhÃ´ng PhÃ¢n Biá»‡t Sá»• CÃ¡i

Äá»ƒ chá»©ng minh tÃ­nh khÃ´ng phÃ¢n biá»‡t sá»• cÃ¡i cá»§a sÆ¡ Ä‘á»“ MCCT, chÃºng ta Ä‘áº§u tiÃªn mÃ´ táº£ má»™t trÃ² chÆ¡i mÃ´ phá»ng \( Game_{sim} \). \( Game_{sim} \) giá»‘ng nhÆ° trÃ² chÆ¡i thá»±c táº¿ \( Game_{real} \) vá»›i hai khÃ¡c biá»‡t. Táº¥t cáº£ cÃ¡c cÃ¢u tráº£ lá»i Ä‘Æ°á»£c tÃ­nh toÃ¡n Ä‘á»™c láº­p vá»›i bit \( b \) vÃ  Ä‘Æ°á»£c gá»­i Ä‘áº¿n \( \mathcal{A} \), sao cho lá»£i tháº¿ cá»§a \( \mathcal{A} \) trong \( Game_{sim} \) lÃ  0. CÃ¡c khÃ³a zk-SNARK Ä‘Æ°á»£c táº¡o nhÆ° sau:

\[
(pk_{SP\_END}, vk_{SP\_END}, trap) \leftarrow Sim(1^\lambda, CSP\_END)
\]

trong Ä‘Ã³ \( trap \) lÃ  chÃ¬a khÃ³a lá»— há»•ng khÃ´ng-kiáº¿n thá»©c. Sau Ä‘Ã³, chÃºng ta chá»©ng minh ráº±ng \( Adv_{L-IND}^{\Pi,\mathcal{A}}(\lambda) = 2 \cdot \Pr[MCCT\text{-}IND_{\Pi,\mathcal{A}}(\lambda) = 1] - 1 \) lÃ  khÃ¡c biá»‡t khÃ´ng Ä‘Ã¡ng ká»ƒ so vá»›i \( Adv_{Game_{sim}}^{\Pi,\mathcal{A}}(\lambda) \) (lá»£i tháº¿ cá»§a \( \mathcal{A} \) trong \( Game_{sim} \)).

NgÆ°á»i thÃ¡ch Ä‘áº¥u \( \mathcal{C} \) tráº£ lá»i cÃ¡c truy váº¥n nhÆ° sau:

- **Truy Váº¥n KeyGen:** \( \mathcal{C} \) hoáº¡t Ä‘á»™ng giá»‘ng nhÆ° trong \( L-IND \) vá»›i cÃ¡c khÃ¡c biá»‡t sau: \( \mathcal{C} \) láº¥y \( (apk, ask) \leftarrow KeyGen(pp) \) vÃ  sá»­ dá»¥ng má»™t chuá»—i ngáº«u nhiÃªn Ä‘á»ƒ thay tháº¿ \( apk \). Sau Ä‘Ã³, \( \mathcal{C} \) gá»­i \( apk \) cho \( \mathcal{A} \).

- **Truy Váº¥n Mint:** \( \mathcal{C} \) hoáº¡t Ä‘á»™ng giá»‘ng nhÆ° trong \( L-IND \) vá»›i cÃ¡c khÃ¡c biá»‡t sau: Thuáº­t toÃ¡n Mint sá»­ dá»¥ng má»™t chuá»—i ngáº«u nhiÃªn \( \rho \) Ä‘á»ƒ thay tháº¿ \( apk \), khi tÃ­nh cam káº¿t \( Hash(v || \rho) \).

- **Truy Váº¥n Transfer:** \( \mathcal{C} \) hoáº¡t Ä‘á»™ng giá»‘ng nhÆ° trong \( L-IND \) vá»›i cÃ¡c khÃ¡c biá»‡t sau: \( \mathcal{C} \) sá»­ dá»¥ng cÃ¡c chuá»—i ngáº«u nhiÃªn Ä‘á»ƒ thay tháº¿ \( snin \) vÃ  \( CoutS \) tÆ°Æ¡ng á»©ng.

- **Truy Váº¥n Insert:** \( \mathcal{C} \) hoáº¡t Ä‘á»™ng giá»‘ng nhÆ° trong \( L-IND \).

Äá»ƒ chá»©ng minh tÃ­nh khÃ´ng phÃ¢n biá»‡t sá»• cÃ¡i, má»™t chuá»—i cÃ¡c trÃ² chÆ¡i lai ghÃ©p Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a dÆ°á»›i Ä‘Ã¢y. Äá»ƒ tiá»‡n lá»£i, chÃºng ta Ä‘á»‹nh nghÄ©a \( q_{KG} \) lÃ  sá»‘ láº§n \( \mathcal{A} \) yÃªu cáº§u truy váº¥n KeyGen, \( q_T \) lÃ  sá»‘ láº§n \( \mathcal{A} \) yÃªu cáº§u truy váº¥n Transfer, vÃ  \( q_M \) lÃ  sá»‘ láº§n \( \mathcal{A} \) yÃªu cáº§u truy váº¥n Mint.

### Game1

**Game1** giá»‘ng nhÆ° \( Game_{real} \) ngoáº¡i trá»« viá»‡c mÃ´ phá»ng má»—i chá»©ng minh zk-SNARK. \( \mathcal{C} \) Ä‘áº§u tiÃªn láº¥y \( (pk_{SP\_END}, vk_{SP\_END}, trap) \leftarrow Sim(1^\lambda, CSP\_END) \). Sau Ä‘Ã³, \( \mathcal{C} \) tÃ­nh \( \pi_{SP\_END} \leftarrow Sim(trap, \vec{s}) \) mÃ  khÃ´ng sá»­ dá»¥ng báº¥t ká»³ chá»©ng tá»« nÃ o. \( \pi_{SP\_END} \) giá»‘ng há»‡t cÃ¡c chá»©ng minh Ä‘Æ°á»£c táº¡o ra trong \( Game_{real} \) do tÃ­nh khÃ´ng-kiáº¿n thá»©c hoÃ n háº£o cá»§a zk-SNARK. Do Ä‘Ã³, lá»£i tháº¿ cá»§a \( \mathcal{A} \) trong \( Game1 \), \( Adv_{Game1} = 0 \).

### Game2

**Game2** giá»‘ng nhÆ° Game1 ngoáº¡i trá»« viá»‡c thay tháº¿ sá»‘ seri \( snin \) vÃ  khÃ³a cÃ´ng khai \( apk \) cá»§a Ä‘á»“ng tiá»n Ä‘Æ°á»£c Ã¡nh xáº¡ báº±ng cÃ¡c chuá»—i ngáº«u nhiÃªn tÆ°Æ¡ng á»©ng. Äá»ƒ giáº£i thÃ­ch, hÃ£y Ä‘á»ƒ \( Adv_{PRF} \) lÃ  lá»£i tháº¿ cá»§a \( \mathcal{A} \) trong viá»‡c phÃ¢n biá»‡t hÃ m giáº£ ngáº«u nhiÃªn \( PRF \) vá»›i má»™t hÃ m ngáº«u nhiÃªn. Trong truy váº¥n KeyGen, \( apk \) Ä‘Æ°á»£c tÃ­nh nhÆ° sau:

\[
apk = Hash_{p}(ask)
\]

trong Ä‘Ã³ \( Hash \) lÃ  má»™t hÃ m giáº£ ngáº«u nhiÃªn.

*(Tiáº¿p tá»¥c pháº§n nÃ y náº¿u cáº§n thiáº¿t)*

## Thuáº­t ToÃ¡n 3: ThÃ­ Nghiá»‡m

```plaintext:algorithms/mcct_algorithm3
Algorithm 3 Experiments

L-IND(Î»):
    pp â† Setup(Î»)
    (L0, L1) â† A MCCT0, MCCT1 (pp)
    randomly sample b â† {0, 1}
    Q â† {KeyGen, Mint, Transfer, Insert}
    ans(ab, a1âˆ’b) â† QueryLb (Q)
    bâ€² â† A MCCT0, MCCT1 (L0, L1, ans)
    return b = bâ€²

TR-NM(Î»):
    pp â† Setup(Î»)
    L â† A MCCT (pp)
    TXâ€² â† A MCCT (L)
    bâ€² â† VerifyTransaction(TXâ€², Lâ€²) âˆ§ (TX âˆ‰ Lâ€²)
    return b âˆ§ (âˆƒ TX âˆˆ L : (TX â‰  TXâ€²) âˆ§ (TX.s_n = TXâ€².s_n))

BAL(Î»):
    pp â† Setup(Î»)
    L â† A MCCT (pp)
    (CMLListS, vS_Mint, vS_Reci, vS_Send) â† A MCCT (L)
    (vS_Unspent, vS_Pub) â† Compute(L, CMLListS)
    If vS_Unspent + vS_Pub + vS_Send > vS_Mint + vS_Reci Then
        return 1
    Else return 0
```

## CÃ¡c Äiá»u Kiá»‡n Trong MCCT

Chá»©ng minh zk-SNARK \( \pi_{SP\_END} \) trong **MCCT** chá»©ng minh ráº±ng tuyÃªn bá»‘ \( \vec{s} = (rtS, snin, CoutS, vpup) \) vÃ  chá»©ng tá»« \( \vec{w} = (Cins, sin, sout, vin, vout, ainpk, ainsk, aoutpk, pin, path(Cins)) \) thá»a mÃ£n quan há»‡ \( RSP\_END \):

- **CÃ¡c Ä‘á»“ng tiá»n Ä‘Æ°á»£c Ã¡nh xáº¡ Ä‘Æ°á»£c hÃ¬nh thÃ nh Ä‘Ãºng cÃ¡ch:**
    - \( Cins = Hashs(in, pk) \)
    - vÃ  Ä‘á»‘i vá»›i \( CoutS \) thÃ¬ \( CoutS = Hashs(out, pk) \).

- **KhÃ³a riÃªng cá»§a Ä‘á»“ng tiá»n Ä‘áº§u vÃ o phÃ¹ há»£p vá»›i khÃ³a cÃ´ng khai:**
    - \( ainpk = Hashpin(ainsk) \).

- **Cam káº¿t Ä‘á»“ng tiá»n Ä‘áº§u vÃ o \( CinsS \) lÃ  má»™t nÃºt lÃ¡ cá»§a cÃ¢y Merkle vá»›i gá»‘c \( rtS \):**
    - \( path(CinsS) \) lÃ  há»£p lá»‡.

- **Sá»‘ seri Ä‘Æ°á»£c tÃ­nh toÃ¡n chÃ­nh xÃ¡c:**
    - \( sninS = Hashask(CinsS) \).

- **GiÃ¡ trá»‹ Ä‘áº§u vÃ o báº±ng giÃ¡ trá»‹ Ä‘áº§u ra:**
    - \( vin = vout + vpup \).

- **Táº¥t cáº£ cÃ¡c giÃ¡ trá»‹ khÃ´ng Ã¢m:**
    - \( vin \geq 0 \), \( vout \geq 0 \), \( vpup \geq 0 \).

## 6.3. Giao Thá»©c Trao Äá»•i NguyÃªn Tá»­ Tiá»n Äiá»‡n Tá»­ ÄÆ°á»£c Ãnh Xáº¡

Äá»ƒ thuáº­n tiá»‡n cho viá»‡c minh há»a, chÃºng tÃ´i giáº£ Ä‘á»‹nh ráº±ng **Pa** muá»‘n trao Ä‘á»•i **va** bitcoins Ä‘Æ°á»£c Ã¡nh xáº¡ láº¥y **vb** ethers Ä‘Æ°á»£c Ã¡nh xáº¡ vá»›i **Pb**.

**HÃ¬nh 6. Giao thá»©c trao Ä‘á»•i nguyÃªn tá»­ tiá»n Ä‘iá»‡n tá»­ Ä‘Æ°á»£c Ã¡nh xáº¡**

*(ChÃº Ã½: HÃ¬nh 6 Ä‘Æ°á»£c Ä‘á» cáº­p nhÆ°ng ná»™i dung hÃ¬nh áº£nh khÃ´ng Ä‘Æ°á»£c cung cáº¥p trong vÄƒn báº£n.)*

## 7. PhÃ¢n TÃ­ch Báº£o Máº­t

PhÃ¢n tÃ­ch cÃ¡c Ä‘áº·c tÃ­nh báº£o máº­t cá»§a sÆ¡ Ä‘á»“ chÃºng tÃ´i Ä‘Æ°á»£c trÃ¬nh bÃ y trong pháº§n nÃ y, bao gá»“m: khÃ´ng phÃ¢n biá»‡t giao dá»‹ch, áº©n danh, khÃ´ng thá»ƒ táº¡o giáº£, vÃ  cÃ¢n báº±ng.

### Äá»‹nh LÃ½ 1. (KhÃ´ng PhÃ¢n Biá»‡t Giao Dá»‹ch)

Dá»±a trÃªn tÃ­nh áº©n hoÃ n háº£o cá»§a sÆ¡ Ä‘á»“ cam káº¿t Pedersen, sÆ¡ Ä‘á»“ Ä‘á» xuáº¥t cá»§a chÃºng tÃ´i thá»a mÃ£n Ä‘áº·c tÃ­nh khÃ´ng phÃ¢n biá»‡t giao dá»‹ch.

**Chá»©ng Minh:**

Trong pha KhÃ³a vÃ  pha Giáº£i PhÃ³ng, táº­p Ä‘á»‹a chá»‰ cÃ´ng khai \( \{PSpk,1, PSpk,2, ..., PSpk,n, ISpk,1, ISpk,2, ..., ISpk,m\} \) cá»§a ngÆ°á»i gá»­i vÃ  trung gian vÃ  tá»•ng giÃ¡ trá»‹ cá»§a cÃ¡c giao dá»‹ch lÃ  khÃ´ng xÃ¡c Ä‘á»‹nh Ä‘á»‘i vá»›i cÃ¡c ngÆ°á»i tham gia khÃ¡c. Chá»‰ cÃ³ cÃ¡c cam káº¿t Ä‘Æ°á»£c cÃ´ng khai ná»™p cho há»£p Ä‘á»“ng giao dá»‹ch. CÃ¡c cam káº¿t cá»§a Ä‘á»‹a chá»‰ cÃ´ng khai vÃ  tá»•ng giÃ¡ trá»‹ cá»§a cÃ¡c giao dá»‹ch Ä‘Æ°á»£c tÃ­nh nhÆ° sau:

- \( com_i = COMri(PSpk,i) = g^{PSpk,i^{h_r}} \),
- \( com_j = COMrj(ISpk,j) = g^{PSpk,j^{h_{rj}}} \),
- \( com_v = COMrv(vt) = g^{vth_{rv}} \).

VÃ¬ \( com_i \), \( com_j \) vÃ  \( com_v \) lÃ  cam káº¿t Pedersen, dá»±a trÃªn tÃ­nh áº©n hoÃ n háº£o cá»§a giao thá»©c cam káº¿t Pedersen, Ä‘á»‹a chá»‰ cÃ´ng khai cá»§a ngÆ°á»i gá»­i vÃ  trung gian khÃ´ng thá»ƒ phÃ¢n biá»‡t tá»« cÃ¡c Ä‘á»‹a chá»‰ cÃ´ng khai khÃ¡c trong blockchain nguá»“n, vÃ  tá»•ng giÃ¡ trá»‹ cá»§a cÃ¡c giao dá»‹ch Ä‘Æ°á»£c áº©n hoÃ n háº£o. Do Ä‘Ã³, Ä‘áº·c tÃ­nh khÃ´ng phÃ¢n biá»‡t giao dá»‹ch Ä‘Æ°á»£c thá»a mÃ£n.

### Thuáº­t ToÃ¡n 3: ThÃ­ Nghiá»‡m

```plaintext:algorithms/mcct_algorithm3
Algorithm 3 Experiments

L-IND(Î»):
    pp â† Setup(Î»)
    (L0, L1) â† A MCCT0, MCCT1 (pp)
    randomly sample b â† {0, 1}
    Q â† {KeyGen, Mint, Transfer, Insert}
    ans(ab, a1âˆ’b) â† QueryLb (Q)
    bâ€² â† A MCCT0, MCCT1 (L0, L1, ans)
    return b = bâ€²

TR-NM(Î»):
    pp â† Setup(Î»)
    L â† A MCCT (pp)
    TXâ€² â† A MCCT (L)
    bâ€² â† VerifyTransaction(TXâ€², Lâ€²) âˆ§ (TX âˆ‰ Lâ€²)
    return b âˆ§ (âˆƒ TX âˆˆ L : (TX â‰  TXâ€²) âˆ§ (TX.s_n = TXâ€².s_n))

BAL(Î»):
    pp â† Setup(Î»)
    L â† A MCCT (pp)
    (CMLListS, vS_Mint, vS_Reci, vS_Send) â† A MCCT (L)
    (vS_Unspent, vS_Pub) â† Compute(L, CMLListS)
    If vS_Unspent + vS_Pub + vS_Send > vS_Mint + vS_Reci Then
        return 1
    Else return 0
```

## 7. Káº¿t Luáº­n

Pháº§n nÃ y Ä‘Ã£ trÃ¬nh bÃ y chi tiáº¿t vá» **sÆ¡ Ä‘á»“ giao dá»‹ch báº£o máº­t tiá»n Ä‘iá»‡n tá»­ Ä‘Æ°á»£c Ã¡nh xáº¡ (MCCT)**, bao gá»“m cÃ¡c thuáº­t toÃ¡n chÃ­nh nhÆ° **Setup**, **KeyGen**, **Mint**, **Transfer**, **Redeem**, vÃ  **Exchange**. **MCCT** Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn ná»n táº£ng há»£p Ä‘á»“ng thÃ´ng minh giao dá»‹ch **SCt**, bao gá»“m cÃ¡c há»£p Ä‘á»“ng trung gian, cÃ¢y Merkle, vÃ  há»£p Ä‘á»“ng trá»™n Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh báº£o máº­t vÃ  riÃªng tÆ° trong cÃ¡c giao dá»‹ch tiá»n Ä‘iá»‡n tá»­ giá»¯a cÃ¡c blockchain khÃ¡c nhau.

Náº¿u báº¡n cáº§n thÃªm thÃ´ng tin hoáº·c giáº£i thÃ­ch chi tiáº¿t hÆ¡n vá» báº¥t ká»³ pháº§n nÃ o, hÃ£y cho tÃ´i biáº¿t!





